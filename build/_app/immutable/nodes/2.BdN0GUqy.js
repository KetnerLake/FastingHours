import"../chunks/CWj6FrbW.js";import{d as N,o as O,s as f}from"../chunks/oT2D85Fd.js";import{p as P,b,d as i,t as F,a as I,g as Q,h as a,i as t,j as D,k as r,n as m,l,f as R,m as H}from"../chunks/CuFKNimY.js";import{i as U}from"../chunks/C7XsMuZO.js";import{D as V,I as W}from"../chunks/D-AK4F0b.js";var X=b('<h3 class="svelte-18f6mc2">You are fasting.</h3> <div class="svelte-18f6mc2"><p class="svelte-18f6mc2"> <span class="svelte-18f6mc2">hrs</span></p> <p class="svelte-18f6mc2">:</p> <p class="svelte-18f6mc2"> <span class="svelte-18f6mc2">min</span></p> <p class="svelte-18f6mc2">:</p> <p class="svelte-18f6mc2"> <span class="svelte-18f6mc2">sec</span></p></div> <p class="small svelte-18f6mc2"> </p>',1),Z=b('<h3 class="svelte-18f6mc2">You are not fasting.</h3>'),$=b('<section class="svelte-18f6mc2"><header class="svelte-18f6mc2"><h1 class="svelte-18f6mc2">Fasting Hours</h1> <a href="/history" class="svelte-18f6mc2"><!> <span>History</span></a></header> <article class="svelte-18f6mc2"><!> <button type="button" class="svelte-18f6mc2"> </button></article> <footer class="svelte-18f6mc2"><p class="svelte-18f6mc2">Made with ❤️ by <a href="http://kevinhoyt.com" class="svelte-18f6mc2">Kevin Hoyt</a>.</p></footer></section>');function lt(Y,j){P(j,!0);let u=new V,v=null,n=D(!1),s=D(null),o=D(null),p=H(()=>{if(t(o)===null||t(s)===null)return{hours:0,minutes:0,seconds:0};const e=Math.floor((t(o)-t(s).getTime())/1e3);return{hours:Math.floor(e/3600).toString(10).padStart(2,"0"),minutes:Math.floor(e%3600/60).toString(10).padStart(2,"0"),seconds:(e%60).toString(10).padStart(2,"0")}}),B=H(()=>t(s)===null?null:new Intl.DateTimeFormat(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t(s)));O(()=>{const e=window.localStorage.getItem("fh_active"),c=window.localStorage.getItem("fh_start");e===null?a(n,!1):a(n,parseInt(e)!==0,!0),t(n)&&(a(o,Date.now(),!0),c===null?(window.localStorage.setItem("fh_start",Date.now()),a(s,new Date,!0)):a(s,new Date(parseInt(c)),!0),v=setInterval(()=>{a(o,Date.now(),!0)},1e3))});function C(){a(n,!t(n)),window.localStorage.setItem("fh_active",t(n)?1:0),t(n)?(a(o,Date.now(),!0),a(s,new Date,!0),window.localStorage.setItem("fh_start",t(s).getTime()),u.add({start:new Date(t(s).getTime()),end:null,notes:null}),v=setInterval(()=>{a(o,Date.now(),!0)},1e3)):(a(o,null),a(s,null),window.localStorage.removeItem("fh_start"),u.browseByEnd().then(e=>(e.end=new Date,u.edit(e))),clearInterval(v),v=null)}var d=$(),h=r(d),y=i(r(h),2),E=r(y);W(E,{height:"20",icon:"material-symbols:insert-chart-outline-rounded",width:"20"}),m(2),l(y),l(h);var x=i(h,2),k=r(x);{var K=e=>{var c=X(),w=i(R(c),2),_=r(w),A=r(_,!0);m(),l(_);var S=i(_,4),G=r(S,!0);m(),l(S);var M=i(S,4),J=r(M,!0);m(),l(M),l(w);var T=i(w,2),L=r(T);l(T),F(()=>{f(A,t(p).hours),f(G,t(p).minutes),f(J,t(p).seconds),f(L,`Started ${t(B)??""}`)}),I(e,c)},q=e=>{var c=Z();I(e,c)};U(k,e=>{t(n)?e(K):e(q,!1)})}var g=i(k,2);g.__click=C;var z=r(g);l(g),l(x),m(2),l(d),F(()=>f(z,`${t(n)?"Stop":"Start"} fasting`)),I(Y,d),Q()}N(["click"]);export{lt as component};
