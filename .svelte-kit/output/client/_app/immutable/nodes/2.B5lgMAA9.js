import"../chunks/CWj6FrbW.js";import{i as va,c as pa,d as St,n as ga,a as ya,o as ao,b as ma,s as Ee}from"../chunks/AiVfCwd2.js";import{a3 as so,av as gi,aw as ba,h as ct,a5 as fn,ac as yi,q as mi,af as _a,b as uo,ax as bi,i as $n,d as Xr,w as I,A as wa,r as xa,e as ka,g as Wo,j as En,m as Jt,a6 as _i,a9 as Sa,k as wi,l as lr,p as Da,ay as Ur,ad as xi,a1 as Zr,az as lo,aA as Qo,aB as co,ar as Ta,aC as Go,aD as Ea,aE as Oa,aF as Ca,aG as ar,aH as Pa,a7 as ki,V as We,aI as Aa,aa as Ia,a8 as Ma,ag as Jo,aJ as ja,n as Si,aK as Ka,aL as Fa,aM as qa,aN as Ra,aO as Na,aP as Ba,z as Ha,aQ as La,R as gt,K as za,c as On,f as kt,a as be,W as yt,as as qe,y as de,aR as Ua,aS as Ya,X as U,Y as L,T as Oe,Z as re,aT as er,at as it,x as tr}from"../chunks/DxVuLWdp.js";import{i as pt,r as Va,p as je,b as Ht}from"../chunks/Bok3np26.js";const Wa=[];function Yr(r,o=!1){return nr(r,new Map,"",Wa)}function nr(r,o,i,s,c=null){if(typeof r=="object"&&r!==null){var d=o.get(r);if(d!==void 0)return d;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(so(r)){var h=Array(r.length);o.set(r,h),c!==null&&o.set(c,h);for(var _=0;_<r.length;_+=1){var D=r[_];_ in r&&(h[_]=nr(D,o,i,s))}return h}if(gi(r)===ba){h={},o.set(r,h),c!==null&&o.set(c,h);for(var E in r)h[E]=nr(r[E],o,i,s);return h}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function")return nr(r.toJSON(),o,i,s,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}function Qa(r,o){if(o){const i=document.body;r.autofocus=!0,mi(()=>{document.activeElement===i&&r.focus()})}}function Ga(r){ct&&fn(r)!==null&&yi(r)}function Xt(r,o){return o}function Ja(r,o,i,s){for(var c=[],d=o.length,h=0;h<d;h++)Oa(o[h].e,c,!0);var _=d>0&&c.length===0&&i!==null;if(_){var D=i.parentNode;yi(D),D.append(i),s.clear(),Bt(r,o[0].prev,o[d-1].next)}Ca(c,()=>{for(var E=0;E<d;E++){var M=o[E];_||(s.delete(M.k),Bt(r,M.prev,M.next)),ar(M.e,!_)}})}function Zt(r,o,i,s,c,d=null){var h=r,_={flags:o,items:new Map,first:null},D=(o&bi)!==0;if(D){var E=r;h=ct?$n(fn(E)):E.appendChild(_a())}ct&&Xr();var M=null,j=!1,C=wa(()=>{var Y=i();return so(Y)?Y:Y==null?[]:xi(Y)});uo(()=>{var Y=I(C),B=Y.length;if(j&&B===0)return;j=B===0;let N=!1;if(ct){var J=xa(h)===ka;J!==(B===0)&&(h=Wo(),$n(h),En(!1),N=!0)}if(ct){for(var z=null,q,F=0;F<B;F++){if(Jt.nodeType===_i&&Jt.data===Sa){h=Jt,N=!0,En(!1);break}var O=Y[F],H=s(O,F);q=Di(Jt,_,z,null,O,H,F,c,o,i),_.items.set(H,q),z=q}B>0&&$n(Wo())}ct||Xa(Y,_,h,c,o,s,i),d!==null&&(B===0?M?wi(M):M=lr(()=>d(h)):M!==null&&Da(M,()=>{M=null})),N&&En(!0),I(C)}),ct&&(h=Jt)}function Xa(r,o,i,s,c,d,h){var Re,Ge,Ye,we;var _=(c&Ea)!==0,D=(c&(lo|co))!==0,E=r.length,M=o.items,j=o.first,C=j,Y,B=null,N,J=[],z=[],q,F,O,H;if(_)for(H=0;H<E;H+=1)q=r[H],F=d(q,H),O=M.get(F),O!==void 0&&((Re=O.a)==null||Re.measure(),(N??(N=new Set)).add(O));for(H=0;H<E;H+=1){if(q=r[H],F=d(q,H),O=M.get(F),O===void 0){var Q=C?C.e.nodes_start:i;B=Di(Q,o,B,B===null?o.first:B.next,q,F,H,s,c,h),M.set(F,B),J=[],z=[],C=B.next;continue}if(D&&Za(O,q,H,c),(O.e.f&Ur)!==0&&(wi(O.e),_&&((Ge=O.a)==null||Ge.unfix(),(N??(N=new Set)).delete(O))),O!==C){if(Y!==void 0&&Y.has(O)){if(J.length<z.length){var R=z[0],ue;B=R.prev;var he=J[0],ce=J[J.length-1];for(ue=0;ue<J.length;ue+=1)Xo(J[ue],R,i);for(ue=0;ue<z.length;ue+=1)Y.delete(z[ue]);Bt(o,he.prev,ce.next),Bt(o,B,he),Bt(o,ce,R),C=R,B=ce,H-=1,J=[],z=[]}else Y.delete(O),Xo(O,C,i),Bt(o,O.prev,O.next),Bt(o,O,B===null?o.first:B.next),Bt(o,B,O),B=O;continue}for(J=[],z=[];C!==null&&C.k!==F;)(C.e.f&Ur)===0&&(Y??(Y=new Set)).add(C),z.push(C),C=C.next;if(C===null)continue;O=C}J.push(O),B=O,C=O.next}if(C!==null||Y!==void 0){for(var Ce=Y===void 0?[]:xi(Y);C!==null;)(C.e.f&Ur)===0&&Ce.push(C),C=C.next;var Ke=Ce.length;if(Ke>0){var Le=(c&bi)!==0&&E===0?i:null;if(_){for(H=0;H<Ke;H+=1)(Ye=Ce[H].a)==null||Ye.measure();for(H=0;H<Ke;H+=1)(we=Ce[H].a)==null||we.fix()}Ja(o,Ce,Le,M)}}_&&mi(()=>{var ve;if(N!==void 0)for(O of N)(ve=O.a)==null||ve.apply()}),Zr.first=o.first&&o.first.e,Zr.last=B&&B.e}function Za(r,o,i,s){(s&lo)!==0&&Qo(r.v,o),(s&co)!==0?Qo(r.i,i):r.i=i}function Di(r,o,i,s,c,d,h,_,D,E){var M=(D&lo)!==0,j=(D&Pa)===0,C=M?j?Ta(c,!1,!1):Go(c):c,Y=(D&co)===0?h:Go(h),B={i:Y,v:C,k:d,a:null,e:null,prev:i,next:s};try{return B.e=lr(()=>_(r,C,Y,E),ct),B.e.prev=i&&i.e,B.e.next=s&&s.e,i===null?o.first=B:(i.next=B,i.e.next=B.e),s!==null&&(s.prev=B,s.e.prev=B.e),B}finally{}}function Xo(r,o,i){for(var s=r.next?r.next.e.nodes_start:i,c=o?o.e.nodes_start:i,d=r.e.nodes_start;d!==s;){var h=ki(d);c.before(d),d=h}}function Bt(r,o,i){o===null?r.first=i:(o.next=i,o.e.next=i&&i.e),i!==null&&(i.prev=o,i.e.prev=o&&o.e)}function $a(r,o,i=!1,s=!1,c=!1){var d=r,h="";We(()=>{var _=Zr;if(h===(h=o()??"")){ct&&Xr();return}if(_.nodes_start!==null&&(Aa(_.nodes_start,_.nodes_end),_.nodes_start=_.nodes_end=null),h!==""){if(ct){Jt.data;for(var D=Xr(),E=D;D!==null&&(D.nodeType!==_i||D.data!=="");)E=D,D=ki(D);if(D===null)throw Ia(),Ma;Jo(Jt,E),d=$n(D);return}var M=h+"";i?M=`<svg>${M}</svg>`:s&&(M=`<math>${M}</math>`);var j=ja(M);if((i||s)&&(j=fn(j)),Jo(fn(j),j.lastChild),i||s)for(;fn(j);)d.before(fn(j));else d.before(j)}})}function es(r,o){var i=void 0,s;uo(()=>{i!==(i=o())&&(s&&(ar(s),s=null),i&&(s=lr(()=>{Si(()=>i(r))})))})}function Ti(r){var o,i,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var c=r.length;for(o=0;o<c;o++)r[o]&&(i=Ti(r[o]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}function ts(){for(var r,o,i=0,s="",c=arguments.length;i<c;i++)(r=arguments[i])&&(o=Ti(r))&&(s&&(s+=" "),s+=o);return s}function ns(r){return typeof r=="object"?ts(r):r??""}const Zo=[...` 	
\r\f \v\uFEFF`];function rs(r,o,i){var s=r==null?"":""+r;if(o&&(s=s?s+" "+o:o),i){for(var c in i)if(i[c])s=s?s+" "+c:c;else if(s.length)for(var d=c.length,h=0;(h=s.indexOf(c,h))>=0;){var _=h+d;(h===0||Zo.includes(s[h-1]))&&(_===s.length||Zo.includes(s[_]))?s=(h===0?"":s.substring(0,h))+s.substring(_+1):h=_}}return s===""?null:s}function $o(r,o=!1){var i=o?" !important;":";",s="";for(var c in r){var d=r[c];d!=null&&d!==""&&(s+=" "+c+": "+d+i)}return s}function Vr(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function os(r,o){if(o){var i="",s,c;if(Array.isArray(o)?(s=o[0],c=o[1]):s=o,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var d=!1,h=0,_=!1,D=[];s&&D.push(...Object.keys(s).map(Vr)),c&&D.push(...Object.keys(c).map(Vr));var E=0,M=-1;const N=r.length;for(var j=0;j<N;j++){var C=r[j];if(_?C==="/"&&r[j-1]==="*"&&(_=!1):d?d===C&&(d=!1):C==="/"&&r[j+1]==="*"?_=!0:C==='"'||C==="'"?d=C:C==="("?h++:C===")"&&h--,!_&&d===!1&&h===0){if(C===":"&&M===-1)M=j;else if(C===";"||j===N-1){if(M!==-1){var Y=Vr(r.substring(E,M).trim());if(!D.includes(Y)){C!==";"&&j++;var B=r.substring(E,j).trim();i+=" "+B+";"}}E=j+1,M=-1}}}}return s&&(i+=$o(s)),c&&(i+=$o(c,!0)),i=i.trim(),i===""?null:i}return r==null?null:String(r)}function Lt(r,o,i,s,c,d){var h=r.__className;if(ct||h!==i||h===void 0){var _=rs(i,s,d);(!ct||_!==r.getAttribute("class"))&&(_==null?r.removeAttribute("class"):o?r.className=_:r.setAttribute("class",_)),r.__className=i}else if(d&&c!==d)for(var D in d){var E=!!d[D];(c==null||E!==!!c[D])&&r.classList.toggle(D,E)}return d}function Wr(r,o={},i,s){for(var c in i){var d=i[c];o[c]!==d&&(i[c]==null?r.style.removeProperty(c):r.style.setProperty(c,d,s))}}function $r(r,o,i,s){var c=r.__style;if(ct||c!==o){var d=os(o,s);(!ct||d!==r.getAttribute("style"))&&(d==null?r.removeAttribute("style"):r.style.cssText=d),r.__style=o}else s&&(Array.isArray(s)?(Wr(r,i==null?void 0:i[0],s[0]),Wr(r,i==null?void 0:i[1],s[1],"important")):Wr(r,i,s));return s}function eo(r,o,i){if(r.multiple){if(o==null)return;if(!so(o))return Ka();for(var s of r.options)s.selected=o.includes(ei(s));return}for(s of r.options){var c=ei(s);if(Fa(c,o)){s.selected=!0;return}}(!i||o!==void 0)&&(r.selectedIndex=-1)}function is(r){var o=new MutationObserver(()=>{eo(r,r.__value)});o.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),qa(()=>{o.disconnect()})}function ei(r){return"__value"in r?r.__value:r.value}const kn=Symbol("class"),Sn=Symbol("style"),Ei=Symbol("is custom element"),Oi=Symbol("is html");function as(r,o){var i=fo(r);i.value===(i.value=o??void 0)||r.value===o&&(o!==0||r.nodeName!=="PROGRESS")||(r.value=o??"")}function ss(r,o){o?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function dn(r,o,i,s){var c=fo(r);ct&&(c[o]=r.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&r.nodeName==="LINK")||c[o]!==(c[o]=i)&&(o==="loading"&&(r[Ba]=i),i==null?r.removeAttribute(o):typeof i!="string"&&Ci(r).includes(o)?r[o]=i:r.setAttribute(o,i))}function us(r,o,i,s,c=!1){var d=fo(r),h=d[Ei],_=!d[Oi];let D=ct&&h;D&&En(!1);var E=o||{},M=r.tagName==="OPTION";for(var j in o)j in i||(i[j]=null);i.class?i.class=ns(i.class):i[kn]&&(i.class=null),i[Sn]&&(i.style??(i.style=null));var C=Ci(r);for(const F in i){let O=i[F];if(M&&F==="value"&&O==null){r.value=r.__value="",E[F]=O;continue}if(F==="class"){var Y=r.namespaceURI==="http://www.w3.org/1999/xhtml";Lt(r,Y,O,s,o==null?void 0:o[kn],i[kn]),E[F]=O,E[kn]=i[kn];continue}if(F==="style"){$r(r,O,o==null?void 0:o[Sn],i[Sn]),E[F]=O,E[Sn]=i[Sn];continue}var B=E[F];if(!(O===B&&!(O===void 0&&r.hasAttribute(F)))){E[F]=O;var N=F[0]+F[1];if(N!=="$$")if(N==="on"){const H={},Q="$$"+F;let R=F.slice(2);var J=ya(R);if(va(R)&&(R=R.slice(0,-7),H.capture=!0),!J&&B){if(O!=null)continue;r.removeEventListener(R,E[Q],H),E[Q]=null}if(O!=null)if(J)r[`__${R}`]=O,St([R]);else{let ue=function(he){E[F].call(this,he)};E[Q]=pa(R,r,ue,H)}else J&&(r[`__${R}`]=void 0)}else if(F==="style")dn(r,F,O);else if(F==="autofocus")Qa(r,!!O);else if(!h&&(F==="__value"||F==="value"&&O!=null))r.value=r.__value=O;else if(F==="selected"&&M)ss(r,O);else{var z=F;_||(z=ga(z));var q=z==="defaultValue"||z==="defaultChecked";if(O==null&&!h&&!q)if(d[F]=null,z==="value"||z==="checked"){let H=r;const Q=o===void 0;if(z==="value"){let R=H.defaultValue;H.removeAttribute(z),H.defaultValue=R,H.value=H.__value=Q?R:null}else{let R=H.defaultChecked;H.removeAttribute(z),H.defaultChecked=R,H.checked=Q?R:!1}}else r.removeAttribute(F);else q||C.includes(z)&&(h||typeof O!="string")?r[z]=O:typeof O!="function"&&dn(r,z,O)}}}return D&&En(!0),E}function ti(r,o,i=[],s,c=!1,d=Ha){const h=i.map(d);var _=void 0,D={},E=r.nodeName==="SELECT",M=!1;if(uo(()=>{var C=o(...h.map(I)),Y=us(r,_,C,s,c);M&&E&&"value"in C&&eo(r,C.value,!1);for(let N of Object.getOwnPropertySymbols(D))C[N]||ar(D[N]);for(let N of Object.getOwnPropertySymbols(C)){var B=C[N];N.description===La&&(!_||B!==_[N])&&(D[N]&&ar(D[N]),D[N]=lr(()=>es(r,()=>B))),Y[N]=B}_=Y}),E){var j=r;Si(()=>{eo(j,_.value),is(j)})}M=!0}function fo(r){return r.__attributes??(r.__attributes={[Ei]:r.nodeName.includes("-"),[Oi]:r.namespaceURI===Ra})}var ni=new Map;function Ci(r){var o=ni.get(r.nodeName);if(o)return o;ni.set(r.nodeName,o=[]);for(var i,s=r,c=Element.prototype;c!==s;){i=Na(s);for(var d in i)i[d].set&&o.push(d);s=gi(s)}return o}var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rr={exports:{}},cs=rr.exports,ri;function fs(){return ri||(ri=1,function(r,o){(function(i,s){r.exports=s()})(cs,function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])})(e,t)},s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};function c(e,t,n){for(var a,u=0,l=t.length;u<l;u++)!a&&u in t||((a=a||Array.prototype.slice.call(t,0,u))[u]=t[u]);return e.concat(a||Array.prototype.slice.call(t))}var d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ls,h=Object.keys,_=Array.isArray;function D(e,t){return typeof t!="object"||h(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||d.Promise||(d.Promise=Promise);var E=Object.getPrototypeOf,M={}.hasOwnProperty;function j(e,t){return M.call(e,t)}function C(e,t){typeof t=="function"&&(t=t(E(e))),(typeof Reflect>"u"?h:Reflect.ownKeys)(t).forEach(function(n){B(e,n,t[n])})}var Y=Object.defineProperty;function B(e,t,n,a){Y(e,t,D(n&&j(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},a))}function N(e){return{from:function(t){return e.prototype=Object.create(t.prototype),B(e.prototype,"constructor",e),{extend:C.bind(null,e.prototype)}}}}var J=Object.getOwnPropertyDescriptor,z=[].slice;function q(e,t,n){return z.call(e,t,n)}function F(e,t){return t(e)}function O(e){if(!e)throw new Error("Assertion Failed")}function H(e){d.setImmediate?setImmediate(e):setTimeout(e,0)}function Q(e,t){if(typeof t=="string"&&j(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],a=0,u=t.length;a<u;++a){var l=Q(e,t[a]);n.push(l)}return n}var f=t.indexOf(".");if(f!==-1){var v=e[t.substr(0,f)];return v==null?void 0:Q(v,t.substr(f+1))}}function R(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){O(typeof n!="string"&&"length"in n);for(var a=0,u=t.length;a<u;++a)R(e,t[a],n[a])}else{var l,f,v=t.indexOf(".");v!==-1?(l=t.substr(0,v),(f=t.substr(v+1))===""?n===void 0?_(e)&&!isNaN(parseInt(l))?e.splice(l,1):delete e[l]:e[l]=n:R(v=!(v=e[l])||!j(e,l)?e[l]={}:v,f,n)):n===void 0?_(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ue(e){var t,n={};for(t in e)j(e,t)&&(n[t]=e[t]);return n}var he=[].concat;function ce(e){return he.apply([],e)}var Me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ce([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return d[e]}),Ce=new Set(Me.map(function(e){return d[e]})),Ke=null;function Le(e){return Ke=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var a=Ke.get(n);if(a)return a;if(_(n)){a=[],Ke.set(n,a);for(var u=0,l=n.length;u<l;++u)a.push(t(n[u]))}else if(Ce.has(n.constructor))a=n;else{var f,v=E(n);for(f in a=v===Object.prototype?{}:Object.create(v),Ke.set(n,a),n)j(n,f)&&(a[f]=t(n[f]))}return a}(e),Ke=null,e}var Re={}.toString;function Ge(e){return Re.call(e).slice(8,-1)}var Ye=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof Ye=="symbol"?function(e){var t;return e!=null&&(t=e[Ye])&&t.apply(e)}:function(){return null};function ve(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var ze={};function Pe(e){var t,n,a,u;if(arguments.length===1){if(_(e))return e.slice();if(this===ze&&typeof e=="string")return[e];if(u=we(e)){for(n=[];!(a=u.next()).done;)n.push(a.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var $=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Fe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Fe),se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function le(e,t){this.name=e,this.message=t}function Ae(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,a,u){return u.indexOf(n)===a}).join(`
`)}function me(e,t,n,a){this.failures=t,this.failedKeys=a,this.successCount=n,this.message=Ae(e,t)}function Te(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=Ae(e,this.failures)}N(le).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(me).from(le),N(Te).from(le);var Se=xt.reduce(function(e,t){return e[t]=t+"Error",e},{}),Ne=le,te=xt.reduce(function(e,t){var n=t+"Error";function a(u,l){this.name=n,u?typeof u=="string"?(this.message="".concat(u).concat(l?`
 `+l:""),this.inner=l||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=se[t]||n,this.inner=null)}return N(a).from(Ne),e[t]=a,e},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var tt=Fe.reduce(function(e,t){return e[t+"Error"]=te[t],e},{}),Je=xt.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=te[t]),e},{});function ge(){}function ft(e){return e}function dt(e,t){return e==null||e===ft?t:function(n){return t(e(n))}}function et(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Dt(e,t){return e===ge?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var a=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?et(a,this.onsuccess):a),u&&(this.onerror=this.onerror?et(u,this.onerror):u),l!==void 0?l:n}}function ht(e,t){return e===ge?t:function(){e.apply(this,arguments);var n=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?et(n,this.onsuccess):n),a&&(this.onerror=this.onerror?et(a,this.onerror):a)}}function at(e,t){return e===ge?t:function(n){var a=e.apply(this,arguments);D(n,a);var u=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?et(u,this.onsuccess):u),l&&(this.onerror=this.onerror?et(l,this.onerror):l),a===void 0?n===void 0?void 0:n:D(a,n)}}function mt(e,t){return e===ge?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function ae(e,t){return e===ge?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var a=this,u=arguments.length,l=new Array(u);u--;)l[u]=arguments[u];return n.then(function(){return t.apply(a,l)})}return t.apply(this,arguments)}}Je.ModifyError=me,Je.DexieError=le,Je.BulkError=Te;var fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _e(e){fe=e}var nt={},Be=100,Me=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,E(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,E(t),e]}(),Fe=Me[0],xt=Me[1],Me=Me[2],xt=xt&&xt.then,He=Fe&&Fe.constructor,$t=!!Me,zt=function(e,t){At.push([e,t]),$e&&(queueMicrotask(Ui),$e=!1)},Qe=!0,$e=!0,Tt=[],en=[],tn=ft,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ge,pgp:!1,env:{},finalize:ge},oe=Et,At=[],Ot=0,nn=[];function ne(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=oe;if(typeof e!="function"){if(e!==nt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hr(this,this._value))}this._state=null,this._value=null,++t.ref,function n(a,u){try{u(function(l){if(a._state===null){if(l===a)throw new TypeError("A promise cannot be resolved with itself.");var f=a._lib&&rn();l&&typeof l.then=="function"?n(a,function(v,g){l instanceof ne?l._then(v,g):l.then(v,g)}):(a._state=!0,a._value=l,yo(a)),f&&on()}},hr.bind(null,a))}catch(l){hr(a,l)}}(this,e)}var dr={get:function(){var e=oe,t=Mn;function n(a,u){var l=this,f=!e.global&&(e!==oe||t!==Mn),v=f&&!Kt(),g=new ne(function(m,x){vr(l,new go(bo(a,e,f,v),bo(u,e,f,v),m,x,e))});return this._consoleTask&&(g._consoleTask=this._consoleTask),g}return n.prototype=nt,n},set:function(e){B(this,"then",e&&e.prototype===nt?dr:{get:function(){return e},set:dr.set})}};function go(e,t,n,a,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=a,this.psd=u}function hr(e,t){var n,a;en.push(t),e._state===null&&(n=e._lib&&rn(),t=tn(t),e._state=!1,e._value=t,a=e,Tt.some(function(u){return u._value===a._value})||Tt.push(a),yo(e),n&&on())}function yo(e){var t=e._listeners;e._listeners=[];for(var n=0,a=t.length;n<a;++n)vr(e,t[n]);var u=e._PSD;--u.ref||u.finalize(),Ot===0&&(++Ot,zt(function(){--Ot==0&&pr()},[]))}function vr(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ot,zt(zi,[n,e,t])}else e._listeners.push(t)}function zi(e,t,n){try{var a,u=t._value;!t._state&&en.length&&(en=[]),a=fe&&t._consoleTask?t._consoleTask.run(function(){return e(u)}):e(u),t._state||en.indexOf(u)!==-1||function(l){for(var f=Tt.length;f;)if(Tt[--f]._value===l._value)return Tt.splice(f,1)}(t),n.resolve(a)}catch(l){n.reject(l)}finally{--Ot==0&&pr(),--n.psd.ref||n.psd.finalize()}}function Ui(){Ut(Et,function(){rn()&&on()})}function rn(){var e=Qe;return $e=Qe=!1,e}function on(){var e,t,n;do for(;0<At.length;)for(e=At,At=[],n=e.length,t=0;t<n;++t){var a=e[t];a[0].apply(null,a[1])}while(0<At.length);$e=Qe=!0}function pr(){var e=Tt;Tt=[],e.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var t=nn.slice(0),n=t.length;n;)t[--n]()}function Pn(e){return new ne(nt,!1,e)}function Ve(e,t){var n=oe;return function(){var a=rn(),u=oe;try{return Ft(n,!0),e.apply(this,arguments)}catch(l){t&&t(l)}finally{Ft(u,!1),a&&on()}}}C(ne.prototype,{then:dr,_then:function(e,t){vr(this,new go(null,null,e,t,oe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(a){return(a instanceof t?n:Pn)(a)}):this.then(null,function(a){return(a&&a.name===t?n:Pn)(a)})},finally:function(e){return this.then(function(t){return ne.resolve(e()).then(function(){return t})},function(t){return ne.resolve(e()).then(function(){return Pn(t)})})},timeout:function(e,t){var n=this;return e<1/0?new ne(function(a,u){var l=setTimeout(function(){return u(new te.Timeout(t))},e);n.then(a,u).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&B(ne.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=mo(),C(ne,{all:function(){var e=Pe.apply(null,arguments).map(jn);return new ne(function(t,n){e.length===0&&t([]);var a=e.length;e.forEach(function(u,l){return ne.resolve(u).then(function(f){e[l]=f,--a||t(e)},n)})})},resolve:function(e){return e instanceof ne?e:e&&typeof e.then=="function"?new ne(function(t,n){e.then(t,n)}):new ne(nt,!0,e)},reject:Pn,race:function(){var e=Pe.apply(null,arguments).map(jn);return new ne(function(t,n){e.map(function(a){return ne.resolve(a).then(t,n)})})},PSD:{get:function(){return oe},set:function(e){return oe=e}},totalEchoes:{get:function(){return Mn}},newPSD:jt,usePSD:Ut,scheduler:{get:function(){return zt},set:function(e){zt=e}},rejectionMapper:{get:function(){return tn},set:function(e){tn=e}},follow:function(e,t){return new ne(function(n,a){return jt(function(u,l){var f=oe;f.unhandleds=[],f.onunhandled=l,f.finalize=et(function(){var v,g=this;v=function(){g.unhandleds.length===0?u():l(g.unhandleds[0])},nn.push(function m(){v(),nn.splice(nn.indexOf(m),1)}),++Ot,zt(function(){--Ot==0&&pr()},[])},f.finalize),e()},t,n,a)})}}),He&&(He.allSettled&&B(ne,"allSettled",function(){var e=Pe.apply(null,arguments).map(jn);return new ne(function(t){e.length===0&&t([]);var n=e.length,a=new Array(n);e.forEach(function(u,l){return ne.resolve(u).then(function(f){return a[l]={status:"fulfilled",value:f}},function(f){return a[l]={status:"rejected",reason:f}}).then(function(){return--n||t(a)})})})}),He.any&&typeof AggregateError<"u"&&B(ne,"any",function(){var e=Pe.apply(null,arguments).map(jn);return new ne(function(t,n){e.length===0&&n(new AggregateError([]));var a=e.length,u=new Array(a);e.forEach(function(l,f){return ne.resolve(l).then(function(v){return t(v)},function(v){u[f]=v,--a||n(new AggregateError(u))})})})}),He.withResolvers&&(ne.withResolvers=He.withResolvers));var rt={awaits:0,echoes:0,id:0},Yi=0,An=[],In=0,Mn=0,Vi=0;function jt(e,t,n,a){var u=oe,l=Object.create(u);return l.parent=u,l.ref=0,l.global=!1,l.id=++Vi,Et.env,l.env=$t?{Promise:ne,PromiseProp:{value:ne,configurable:!0,writable:!0},all:ne.all,race:ne.race,allSettled:ne.allSettled,any:ne.any,resolve:ne.resolve,reject:ne.reject}:{},t&&D(l,t),++u.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},a=Ut(l,e,n,a),l.ref===0&&l.finalize(),a}function an(){return rt.id||(rt.id=++Yi),++rt.awaits,rt.echoes+=Be,rt.id}function Kt(){return!!rt.awaits&&(--rt.awaits==0&&(rt.id=0),rt.echoes=rt.awaits*Be,!0)}function jn(e){return rt.echoes&&e&&e.constructor===He?(an(),e.then(function(t){return Kt(),t},function(t){return Kt(),Xe(t)})):e}function Wi(){var e=An[An.length-1];An.pop(),Ft(e,!1)}function Ft(e,t){var n,a=oe;(t?!rt.echoes||In++&&e===oe:!In||--In&&e===oe)||queueMicrotask(t?(function(u){++Mn,rt.echoes&&--rt.echoes!=0||(rt.echoes=rt.awaits=rt.id=0),An.push(oe),Ft(u,!0)}).bind(null,e):Wi),e!==oe&&(oe=e,a===Et&&(Et.env=mo()),$t&&(n=Et.env.Promise,t=e.env,(a.global||e.global)&&(Object.defineProperty(d,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function mo(){var e=d.Promise;return $t?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ut(e,t,n,a,u){var l=oe;try{return Ft(e,!0),t(n,a,u)}finally{Ft(l,!1)}}function bo(e,t,n,a){return typeof e!="function"?e:function(){var u=oe;n&&an(),Ft(t,!0);try{return e.apply(this,arguments)}finally{Ft(u,!1),a&&queueMicrotask(Kt)}}}function gr(e){Promise===He&&rt.echoes===0?In===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+xt).indexOf("[native code]")===-1&&(an=Kt=ge);var Xe=ne.reject,Yt="￿",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_o="String expected.",sn=[],Kn="__dbnames",yr="readonly",mr="readwrite";function Vt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var wo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Fn(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=Le(t))[e],t}}function xo(){throw te.Type()}function De(e,t){try{var n=ko(e),a=ko(t);if(n!==a)return n==="Array"?1:a==="Array"?-1:n==="binary"?1:a==="binary"?-1:n==="string"?1:a==="string"?-1:n==="Date"?1:a!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(u,l){for(var f=u.length,v=l.length,g=f<v?f:v,m=0;m<g;++m)if(u[m]!==l[m])return u[m]<l[m]?-1:1;return f===v?0:f<v?-1:1}(So(e),So(t));case"Array":return function(u,l){for(var f=u.length,v=l.length,g=f<v?f:v,m=0;m<g;++m){var x=De(u[m],l[m]);if(x!==0)return x}return f===v?0:f<v?-1:1}(e,t)}}catch{}return NaN}function ko(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=Ge(e),e==="ArrayBuffer"?"binary":e)}function So(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Do=(Ue.prototype._trans=function(e,t,n){var a=this._tx||oe.trans,u=this.name,l=fe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function f(m,x,p){if(!p.schema[u])throw new te.NotFound("Table "+u+" not part of transaction");return t(p.idbtrans,p)}var v=rn();try{var g=a&&a.db._novip===this.db._novip?a===oe.trans?a._promise(e,f,n):jt(function(){return a._promise(e,f,n)},{trans:a,transless:oe.transless||oe}):function m(x,p,S,y){if(x.idbdb&&(x._state.openComplete||oe.letThrough||x._vip)){var w=x._createTransaction(p,S,x._dbSchema);try{w.create(),x._state.PR1398_maxLoop=3}catch(k){return k.name===Se.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return m(x,p,S,y)})):Xe(k)}return w._promise(p,function(k,b){return jt(function(){return oe.trans=w,y(k,b,w)})}).then(function(k){if(p==="readwrite")try{w.idbtrans.commit()}catch{}return p==="readonly"?k:w._completion.then(function(){return k})})}if(x._state.openComplete)return Xe(new te.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return Xe(new te.DatabaseClosed);x.open().catch(ge)}return x._state.dbReadyPromise.then(function(){return m(x,p,S,y)})}(this.db,e,[this.name],f);return l&&(g._consoleTask=l,g=g.catch(function(m){return console.trace(m),Xe(m)})),g}finally{v&&on()}},Ue.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Xe(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(a){return n.core.get({trans:a,key:e}).then(function(u){return n.hook.reading.fire(u)})}).then(t)},Ue.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(_(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=h(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(v){if(v.compound&&t.every(function(m){return 0<=v.keyPath.indexOf(m)})){for(var g=0;g<t.length;++g)if(t.indexOf(v.keyPath[g])===-1)return!1;return!0}return!1}).sort(function(v,g){return v.keyPath.length-g.keyPath.length})[0];if(n&&this.db._maxKey!==Yt){var l=n.keyPath.slice(0,t.length);return this.where(l).equals(l.map(function(g){return e[g]}))}!n&&fe&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName;function u(v,g){return De(v,g)===0}var f=t.reduce(function(p,g){var m=p[0],x=p[1],p=a[g],S=e[g];return[m||p,m||!p?Vt(x,p&&p.multi?function(y){return y=Q(y,g),_(y)&&y.some(function(w){return u(S,w)})}:function(y){return u(S,Q(y,g))}):x]},[null,null]),l=f[0],f=f[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(f):n?this.filter(f):this.where(t).equals("")},Ue.prototype.filter=function(e){return this.toCollection().and(e)},Ue.prototype.count=function(e){return this.toCollection().count(e)},Ue.prototype.offset=function(e){return this.toCollection().offset(e)},Ue.prototype.limit=function(e){return this.toCollection().limit(e)},Ue.prototype.each=function(e){return this.toCollection().each(e)},Ue.prototype.toArray=function(e){return this.toCollection().toArray(e)},Ue.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ue.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,_(e)?"[".concat(e.join("+"),"]"):e))},Ue.prototype.reverse=function(){return this.toCollection().reverse()},Ue.prototype.mapToClass=function(e){var t,n=this.db,a=this.name;function u(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof xo&&(function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function x(){this.constructor=g}i(g,m),g.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}(u,t=e),Object.defineProperty(u.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),u.prototype.table=function(){return a},e=u);for(var l=new Set,f=e.prototype;f;f=E(f))Object.getOwnPropertyNames(f).forEach(function(g){return l.add(g)});function v(g){if(!g)return g;var m,x=Object.create(e.prototype);for(m in g)if(!l.has(m))try{x[m]=g[m]}catch{}return x}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),e},Ue.prototype.defineClass=function(){return this.mapToClass(function(e){D(this,e)})},Ue.prototype.add=function(e,t){var n=this,a=this.schema.primKey,u=a.auto,l=a.keyPath,f=e;return l&&u&&(f=Fn(l)(e)),this._trans("readwrite",function(v){return n.core.mutate({trans:v,type:"add",keys:t!=null?[t]:null,values:[f]})}).then(function(v){return v.numFailures?ne.reject(v.failures[0]):v.lastResult}).then(function(v){if(l)try{R(e,l,v)}catch{}return v})},Ue.prototype.update=function(e,t){return typeof e!="object"||_(e)?this.where(":id").equals(e).modify(t):(e=Q(e,this.schema.primKey.keyPath),e===void 0?Xe(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},Ue.prototype.put=function(e,t){var n=this,a=this.schema.primKey,u=a.auto,l=a.keyPath,f=e;return l&&u&&(f=Fn(l)(e)),this._trans("readwrite",function(v){return n.core.mutate({trans:v,type:"put",values:[f],keys:t!=null?[t]:null})}).then(function(v){return v.numFailures?ne.reject(v.failures[0]):v.lastResult}).then(function(v){if(l)try{R(e,l,v)}catch{}return v})},Ue.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?ne.reject(n.failures[0]):void 0})},Ue.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:wo})}).then(function(t){return t.numFailures?ne.reject(t.failures[0]):void 0})},Ue.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(a){return a.map(function(u){return t.hook.reading.fire(u)})})})},Ue.prototype.bulkAdd=function(e,t,n){var a=this,u=Array.isArray(t)?t:void 0,l=(n=n||(u?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(f){var m=a.schema.primKey,v=m.auto,m=m.keyPath;if(m&&u)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,m=m&&v?e.map(Fn(m)):e;return a.core.mutate({trans:f,type:"add",keys:u,values:m,wantResults:l}).then(function(w){var p=w.numFailures,S=w.results,y=w.lastResult,w=w.failures;if(p===0)return l?S:y;throw new Te("".concat(a.name,".bulkAdd(): ").concat(p," of ").concat(g," operations failed"),w)})})},Ue.prototype.bulkPut=function(e,t,n){var a=this,u=Array.isArray(t)?t:void 0,l=(n=n||(u?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(f){var m=a.schema.primKey,v=m.auto,m=m.keyPath;if(m&&u)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,m=m&&v?e.map(Fn(m)):e;return a.core.mutate({trans:f,type:"put",keys:u,values:m,wantResults:l}).then(function(w){var p=w.numFailures,S=w.results,y=w.lastResult,w=w.failures;if(p===0)return l?S:y;throw new Te("".concat(a.name,".bulkPut(): ").concat(p," of ").concat(g," operations failed"),w)})})},Ue.prototype.bulkUpdate=function(e){var t=this,n=this.core,a=e.map(function(f){return f.key}),u=e.map(function(f){return f.changes}),l=[];return this._trans("readwrite",function(f){return n.getMany({trans:f,keys:a,cache:"clone"}).then(function(v){var g=[],m=[];e.forEach(function(p,S){var y=p.key,w=p.changes,k=v[S];if(k){for(var b=0,T=Object.keys(w);b<T.length;b++){var P=T[b],A=w[P];if(P===t.schema.primKey.keyPath){if(De(A,y)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else R(k,P,A)}l.push(S),g.push(y),m.push(k)}});var x=g.length;return n.mutate({trans:f,type:"put",keys:g,values:m,updates:{keys:a,changeSpecs:u}}).then(function(p){var S=p.numFailures,y=p.failures;if(S===0)return x;for(var w=0,k=Object.keys(y);w<k.length;w++){var b,T=k[w],P=l[Number(T)];P!=null&&(b=y[T],delete y[T],y[P]=b)}throw new Te("".concat(t.name,".bulkUpdate(): ").concat(S," of ").concat(x," operations failed"),y)})})})},Ue.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"delete",keys:e})}).then(function(f){var u=f.numFailures,l=f.lastResult,f=f.failures;if(u===0)return l;throw new Te("".concat(t.name,".bulkDelete(): ").concat(u," of ").concat(n," operations failed"),f)})},Ue);function Ue(){}function vn(e){function t(f,v){if(v){for(var g=arguments.length,m=new Array(g-1);--g;)m[g-1]=arguments[g];return n[f].subscribe.apply(null,m),e}if(typeof f=="string")return n[f]}var n={};t.addEventType=l;for(var a=1,u=arguments.length;a<u;++a)l(arguments[a]);return t;function l(f,v,g){if(typeof f!="object"){var m;v=v||mt;var x={subscribers:[],fire:g=g||ge,subscribe:function(p){x.subscribers.indexOf(p)===-1&&(x.subscribers.push(p),x.fire=v(x.fire,p))},unsubscribe:function(p){x.subscribers=x.subscribers.filter(function(S){return S!==p}),x.fire=x.subscribers.reduce(v,g)}};return n[f]=t[f]=x}h(m=f).forEach(function(p){var S=m[p];if(_(S))l(p,m[p][0],m[p][1]);else{if(S!=="asap")throw new te.InvalidArgument("Invalid event config");var y=l(p,ft,function(){for(var w=arguments.length,k=new Array(w);w--;)k[w]=arguments[w];y.subscribers.forEach(function(b){H(function(){b.apply(null,k)})})})}})}}function pn(e,t){return N(t).from({prototype:e}),t}function un(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function br(e,t){e.filter=Vt(e.filter,t)}function _r(e,t,n){var a=e.replayFilter;e.replayFilter=a?function(){return Vt(a(),t())}:t,e.justLimit=n&&!a}function qn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new te.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function To(e,t,n){var a=qn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:a,range:e.range}})}function Rn(e,t,n,a){var u=e.replayFilter?Vt(e.filter,e.replayFilter()):e.filter;if(e.or){var l={},f=function(v,g,m){var x,p;u&&!u(g,m,function(S){return g.stop(S)},function(S){return g.fail(S)})||((p=""+(x=g.primaryKey))=="[object ArrayBuffer]"&&(p=""+new Uint8Array(x)),j(l,p)||(l[p]=!0,t(v,g,m)))};return Promise.all([e.or._iterate(f,n),Eo(To(e,a,n),e.algorithm,f,!e.keysOnly&&e.valueMapper)])}return Eo(To(e,a,n),Vt(e.algorithm,u),t,!e.keysOnly&&e.valueMapper)}function Eo(e,t,n,a){var u=Ve(a?function(l,f,v){return n(a(l),f,v)}:n);return e.then(function(l){if(l)return l.start(function(){var f=function(){return l.continue()};t&&!t(l,function(v){return f=v},function(v){l.stop(v),f=ge},function(v){l.fail(v),f=ge})||u(l.value,l,function(v){return f=v}),f()})})}var gn=(Oo.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var n=t.add;if(_(n))return c(c([],_(e)?e:[],!0),n).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(t.remove!==void 0){var a=t.remove;if(_(a))return _(e)?e.filter(function(u){return!a.includes(u)}).sort():[];if(typeof a=="number")return Number(e)-a;if(typeof a=="bigint")try{return BigInt(e)-a}catch{return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return n=(n=t.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},Oo);function Oo(e){this["@@propmod"]=e}var Qi=(Ie.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Ie.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Ie.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Vt(t.algorithm,e)},Ie.prototype._iterate=function(e,t){return Rn(this._ctx,e,t,this._ctx.table.core)},Ie.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&D(n,e),t._ctx=n,t},Ie.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ie.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Rn(t,e,n,t.table.core)})},Ie.prototype.count=function(e){var t=this;return this._read(function(n){var a=t._ctx,u=a.table.core;if(un(a,!0))return u.count({trans:n,query:{index:qn(a,u.schema),range:a.range}}).then(function(f){return Math.min(f,a.limit)});var l=0;return Rn(a,function(){return++l,!1},n,u).then(function(){return l})}).then(e)},Ie.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),a=n[0],u=n.length-1;function l(g,m){return m?l(g[n[m]],m-1):g[a]}var f=this._ctx.dir==="next"?1:-1;function v(g,m){return De(l(g,u),l(m,u))*f}return this.toArray(function(g){return g.sort(v)}).then(t)},Ie.prototype.toArray=function(e){var t=this;return this._read(function(n){var a=t._ctx;if(a.dir==="next"&&un(a,!0)&&0<a.limit){var u=a.valueMapper,l=qn(a,a.table.core.schema);return a.table.core.query({trans:n,limit:a.limit,values:!0,query:{index:l,range:a.range}}).then(function(v){return v=v.result,u?v.map(u):v})}var f=[];return Rn(a,function(v){return f.push(v)},n,a.table.core).then(function(){return f})},e)},Ie.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,un(t)?_r(t,function(){var n=e;return function(a,u){return n===0||(n===1?--n:u(function(){a.advance(n),n=0}),!1)}}):_r(t,function(){var n=e;return function(){return--n<0}})),this},Ie.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_r(this._ctx,function(){var t=e;return function(n,a,u){return--t<=0&&a(u),0<=t}},!0),this},Ie.prototype.until=function(e,t){return br(this._ctx,function(n,a,u){return!e(n.value)||(a(u),t)}),this},Ie.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},Ie.prototype.last=function(e){return this.reverse().first(e)},Ie.prototype.filter=function(e){var t;return br(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=Vt(t.isMatch,e),this},Ie.prototype.and=function(e){return this.filter(e)},Ie.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Ie.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ie.prototype.desc=function(){return this.reverse()},Ie.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,a){e(a.key,a)})},Ie.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Ie.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,a){e(a.primaryKey,a)})},Ie.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(a,u){n.push(u.key)}).then(function(){return n}).then(e)},Ie.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&un(t,!0)&&0<t.limit)return this._read(function(a){var u=qn(t,t.table.core.schema);return t.table.core.query({trans:a,values:!1,limit:t.limit,query:{index:u,range:t.range}})}).then(function(a){return a.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(a,u){n.push(u.primaryKey)}).then(function(){return n}).then(e)},Ie.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Ie.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},Ie.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Ie.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return br(this._ctx,function(u){var a=u.primaryKey.toString(),u=j(t,a);return t[a]=!0,!u}),this},Ie.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(a){var u,l,f;f=typeof e=="function"?e:(u=h(e),l=u.length,function(b){for(var T=!1,P=0;P<l;++P){var A=u[P],K=e[A],V=Q(b,A);K instanceof gn?(R(b,A,K.execute(V)),T=!0):V!==K&&(R(b,A,K),T=!0)}return T});var v=n.table.core,p=v.schema.primaryKey,g=p.outbound,m=p.extractKey,x=200,p=t.db._options.modifyChunkSize;p&&(x=typeof p=="object"?p[v.name]||p["*"]||200:p);function S(b,A){var P=A.failures,A=A.numFailures;w+=b-A;for(var K=0,V=h(P);K<V.length;K++){var Z=V[K];y.push(P[Z])}}var y=[],w=0,k=[];return t.clone().primaryKeys().then(function(b){function T(A){var K=Math.min(x,b.length-A);return v.getMany({trans:a,keys:b.slice(A,A+K),cache:"immutable"}).then(function(V){for(var Z=[],W=[],G=g?[]:null,ee=[],X=0;X<K;++X){var ie=V[X],ye={value:Le(ie),primKey:b[A+X]};f.call(ye,ye.value,ye)!==!1&&(ye.value==null?ee.push(b[A+X]):g||De(m(ie),m(ye.value))===0?(W.push(ye.value),g&&G.push(b[A+X])):(ee.push(b[A+X]),Z.push(ye.value)))}return Promise.resolve(0<Z.length&&v.mutate({trans:a,type:"add",values:Z}).then(function(xe){for(var ke in xe.failures)ee.splice(parseInt(ke),1);S(Z.length,xe)})).then(function(){return(0<W.length||P&&typeof e=="object")&&v.mutate({trans:a,type:"put",keys:G,values:W,criteria:P,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<A}).then(function(xe){return S(W.length,xe)})}).then(function(){return(0<ee.length||P&&e===wr)&&v.mutate({trans:a,type:"delete",keys:ee,criteria:P,isAdditionalChunk:0<A}).then(function(xe){return S(ee.length,xe)})}).then(function(){return b.length>A+K&&T(A+x)})})}var P=un(n)&&n.limit===1/0&&(typeof e!="function"||e===wr)&&{index:n.index,range:n.range};return T(0).then(function(){if(0<y.length)throw new me("Error modifying one or more objects",y,w,k);return b.length})})})},Ie.prototype.delete=function(){var e=this._ctx,t=e.range;return un(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var a=e.table.core.schema.primaryKey,u=t;return e.table.core.count({trans:n,query:{index:a,range:u}}).then(function(l){return e.table.core.mutate({trans:n,type:"deleteRange",range:u}).then(function(f){var v=f.failures;if(f.lastResult,f.results,f=f.numFailures,f)throw new me("Could not delete some values",Object.keys(v).map(function(g){return v[g]}),l-f);return l-f})})}):this.modify(wr)},Ie);function Ie(){}var wr=function(e,t){return t.value=null};function Gi(e,t){return e<t?-1:e===t?0:1}function Ji(e,t){return t<e?-1:e===t?0:1}function bt(e,t,n){return e=e instanceof Po?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function ln(e){return new e.Collection(e,function(){return Co("")}).limit(0)}function Nn(e,t,n,a){var u,l,f,v,g,m,x,p=n.length;if(!n.every(function(w){return typeof w=="string"}))return bt(e,_o);function S(w){u=w==="next"?function(b){return b.toUpperCase()}:function(b){return b.toLowerCase()},l=w==="next"?function(b){return b.toLowerCase()}:function(b){return b.toUpperCase()},f=w==="next"?Gi:Ji;var k=n.map(function(b){return{lower:l(b),upper:u(b)}}).sort(function(b,T){return f(b.lower,T.lower)});v=k.map(function(b){return b.upper}),g=k.map(function(b){return b.lower}),x=(m=w)==="next"?"":a}S("next"),e=new e.Collection(e,function(){return qt(v[0],g[p-1]+a)}),e._ondirectionchange=function(w){S(w)};var y=0;return e._addAlgorithm(function(w,k,b){var T=w.key;if(typeof T!="string")return!1;var P=l(T);if(t(P,g,y))return!0;for(var A=null,K=y;K<p;++K){var V=function(Z,W,G,ee,X,ie){for(var ye=Math.min(Z.length,ee.length),xe=-1,ke=0;ke<ye;++ke){var _t=W[ke];if(_t!==ee[ke])return X(Z[ke],G[ke])<0?Z.substr(0,ke)+G[ke]+G.substr(ke+1):X(Z[ke],ee[ke])<0?Z.substr(0,ke)+ee[ke]+G.substr(ke+1):0<=xe?Z.substr(0,xe)+W[xe]+G.substr(xe+1):null;X(Z[ke],_t)<0&&(xe=ke)}return ye<ee.length&&ie==="next"?Z+G.substr(Z.length):ye<Z.length&&ie==="prev"?Z.substr(0,G.length):xe<0?null:Z.substr(0,xe)+ee[xe]+G.substr(xe+1)}(T,P,v[K],g[K],f,m);V===null&&A===null?y=K+1:(A===null||0<f(A,V))&&(A=V)}return k(A!==null?function(){w.continue(A+x)}:b),!1}),e}function qt(e,t,n,a){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:a}}function Co(e){return{type:1,lower:e,upper:e}}var Po=(Object.defineProperty(ot.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ot.prototype.between=function(e,t,n,a){n=n!==!1,a=a===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||a)&&(!n||!a)?ln(this):new this.Collection(this,function(){return qt(e,t,!n,!a)})}catch{return bt(this,It)}},ot.prototype.equals=function(e){return e==null?bt(this,It):new this.Collection(this,function(){return Co(e)})},ot.prototype.above=function(e){return e==null?bt(this,It):new this.Collection(this,function(){return qt(e,void 0,!0)})},ot.prototype.aboveOrEqual=function(e){return e==null?bt(this,It):new this.Collection(this,function(){return qt(e,void 0,!1)})},ot.prototype.below=function(e){return e==null?bt(this,It):new this.Collection(this,function(){return qt(void 0,e,!1,!0)})},ot.prototype.belowOrEqual=function(e){return e==null?bt(this,It):new this.Collection(this,function(){return qt(void 0,e)})},ot.prototype.startsWith=function(e){return typeof e!="string"?bt(this,_o):this.between(e,e+Yt,!0,!0)},ot.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Nn(this,function(t,n){return t.indexOf(n[0])===0},[e],Yt)},ot.prototype.equalsIgnoreCase=function(e){return Nn(this,function(t,n){return t===n[0]},[e],"")},ot.prototype.anyOfIgnoreCase=function(){var e=Pe.apply(ze,arguments);return e.length===0?ln(this):Nn(this,function(t,n){return n.indexOf(t)!==-1},e,"")},ot.prototype.startsWithAnyOfIgnoreCase=function(){var e=Pe.apply(ze,arguments);return e.length===0?ln(this):Nn(this,function(t,n){return n.some(function(a){return t.indexOf(a)===0})},e,Yt)},ot.prototype.anyOf=function(){var e=this,t=Pe.apply(ze,arguments),n=this._cmp;try{t.sort(n)}catch{return bt(this,It)}if(t.length===0)return ln(this);var a=new this.Collection(this,function(){return qt(t[0],t[t.length-1])});a._ondirectionchange=function(l){n=l==="next"?e._ascending:e._descending,t.sort(n)};var u=0;return a._addAlgorithm(function(l,f,v){for(var g=l.key;0<n(g,t[u]);)if(++u===t.length)return f(v),!1;return n(g,t[u])===0||(f(function(){l.continue(t[u])}),!1)}),a},ot.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ot.prototype.noneOf=function(){var e=Pe.apply(ze,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return bt(this,It)}var t=e.reduce(function(n,a){return n?n.concat([[n[n.length-1][1],a]]):[[-1/0,a]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},ot.prototype.inAnyRange=function(T,t){var n=this,a=this._cmp,u=this._ascending,l=this._descending,f=this._min,v=this._max;if(T.length===0)return ln(this);if(!T.every(function(P){return P[0]!==void 0&&P[1]!==void 0&&u(P[0],P[1])<=0}))return bt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var g=!t||t.includeLowers!==!1,m=t&&t.includeUppers===!0,x,p=u;function S(P,A){return p(P[0],A[0])}try{(x=T.reduce(function(P,A){for(var K=0,V=P.length;K<V;++K){var Z=P[K];if(a(A[0],Z[1])<0&&0<a(A[1],Z[0])){Z[0]=f(Z[0],A[0]),Z[1]=v(Z[1],A[1]);break}}return K===V&&P.push(A),P},[])).sort(S)}catch{return bt(this,It)}var y=0,w=m?function(P){return 0<u(P,x[y][1])}:function(P){return 0<=u(P,x[y][1])},k=g?function(P){return 0<l(P,x[y][0])}:function(P){return 0<=l(P,x[y][0])},b=w,T=new this.Collection(this,function(){return qt(x[0][0],x[x.length-1][1],!g,!m)});return T._ondirectionchange=function(P){p=P==="next"?(b=w,u):(b=k,l),x.sort(S)},T._addAlgorithm(function(P,A,K){for(var V,Z=P.key;b(Z);)if(++y===x.length)return A(K),!1;return!w(V=Z)&&!k(V)||(n._cmp(Z,x[y][1])===0||n._cmp(Z,x[y][0])===0||A(function(){p===u?P.continue(x[y][0]):P.continue(x[y][1])}),!1)}),T},ot.prototype.startsWithAnyOf=function(){var e=Pe.apply(ze,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?ln(this):this.inAnyRange(e.map(function(t){return[t,t+Yt]})):bt(this,"startsWithAnyOf() only works with strings")},ot);function ot(){}function Ct(e){return Ve(function(t){return yn(t),e(t.target.error),!1})}function yn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var mn="storagemutated",xr="x-storagemutated-1",Rt=vn(null,mn),Xi=(Pt.prototype._lock=function(){return O(!oe.global),++this._reculock,this._reculock!==1||oe.global||(oe.lockOwnerFor=this),this},Pt.prototype._unlock=function(){if(O(!oe.global),--this._reculock==0)for(oe.global||(oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ut(e[1],e[0])}catch{}}return this},Pt.prototype._locked=function(){return this._reculock&&oe.lockOwnerFor!==this},Pt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,a=this.db._state.dbOpenError;if(O(!this.idbtrans),!e&&!n)switch(a&&a.name){case"DatabaseClosedError":throw new te.DatabaseClosed(a);case"MissingAPIError":throw new te.MissingAPI(a.message,a);default:throw new te.OpenFailed(a)}if(!this.active)throw new te.TransactionInactive;return O(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ve(function(u){yn(u),t._reject(e.error)}),e.onabort=Ve(function(u){yn(u),t.active&&t._reject(new te.Abort(e.error)),t.active=!1,t.on("abort").fire(u)}),e.oncomplete=Ve(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Rt.storagemutated.fire(e.mutatedParts)}),this},Pt.prototype._promise=function(e,t,n){var a=this;if(e==="readwrite"&&this.mode!=="readwrite")return Xe(new te.ReadOnly("Transaction is readonly"));if(!this.active)return Xe(new te.TransactionInactive);if(this._locked())return new ne(function(l,f){a._blockedFuncs.push([function(){a._promise(e,t,n).then(l,f)},oe])});if(n)return jt(function(){var l=new ne(function(f,v){a._lock();var g=t(f,v,a);g&&g.then&&g.then(f,v)});return l.finally(function(){return a._unlock()}),l._lib=!0,l});var u=new ne(function(l,f){var v=t(l,f,a);v&&v.then&&v.then(l,f)});return u._lib=!0,u},Pt.prototype._root=function(){return this.parent?this.parent._root():this},Pt.prototype.waitFor=function(e){var t,n=this._root(),a=ne.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return a}):(n._waitingFor=a,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function l(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=l)}());var u=n._waitingFor;return new ne(function(l,f){a.then(function(v){return n._waitingQueue.push(Ve(l.bind(null,v)))},function(v){return n._waitingQueue.push(Ve(f.bind(null,v)))}).finally(function(){n._waitingFor===u&&(n._waitingFor=null)})})},Pt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},Pt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(j(t,e))return t[e];var n=this.schema[e];if(!n)throw new te.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},Pt);function Pt(){}function kr(e,t,n,a,u,l,f){return{name:e,keyPath:t,unique:n,multi:a,auto:u,compound:l,src:(n&&!f?"&":"")+(a?"*":"")+(u?"++":"")+Ao(t)}}function Ao(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Sr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(a=function(u){return[u.name,u]},n.reduce(function(u,l,f){return f=a(l,f),f&&(u[f[0]]=f[1]),u},{}))};var a}var bn=function(e){try{return e.only([[]]),bn=function(){return[[]]},[[]]}catch{return bn=function(){return Yt},Yt}};function Dr(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return Q(n,t)}:function(n){return Q(n,e)};var t}function Io(e){return[].slice.call(e)}var Zi=0;function _n(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function $i(e,t,g){function a(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var y=b.lower,w=b.upper,k=b.lowerOpen,b=b.upperOpen;return y===void 0?w===void 0?null:t.upperBound(w,!!b):w===void 0?t.lowerBound(y,!!k):t.bound(y,w,!!k,!!b)}function u(S){var y,w=S.name;return{name:w,schema:S,mutate:function(k){var b=k.trans,T=k.type,P=k.keys,A=k.values,K=k.range;return new Promise(function(V,Z){V=Ve(V);var W=b.objectStore(w),G=W.keyPath==null,ee=T==="put"||T==="add";if(!ee&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var X,ie=(P||A||{length:1}).length;if(P&&A&&P.length!==A.length)throw new Error("Given keys array must have same length as given values array.");if(ie===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function ye(vt){++_t,yn(vt)}var xe=[],ke=[],_t=0;if(T==="deleteRange"){if(K.type===4)return V({numFailures:_t,failures:ke,results:[],lastResult:void 0});K.type===3?xe.push(X=W.clear()):xe.push(X=W.delete(a(K)))}else{var G=ee?G?[A,P]:[A,null]:[P,null],pe=G[0],ut=G[1];if(ee)for(var lt=0;lt<ie;++lt)xe.push(X=ut&&ut[lt]!==void 0?W[T](pe[lt],ut[lt]):W[T](pe[lt])),X.onerror=ye;else for(lt=0;lt<ie;++lt)xe.push(X=W[T](pe[lt])),X.onerror=ye}function Zn(vt){vt=vt.target.result,xe.forEach(function(Gt,zr){return Gt.error!=null&&(ke[zr]=Gt.error)}),V({numFailures:_t,failures:ke,results:T==="delete"?P:xe.map(function(Gt){return Gt.result}),lastResult:vt})}X.onerror=function(vt){ye(vt),Zn(vt)},X.onsuccess=Zn})},getMany:function(k){var b=k.trans,T=k.keys;return new Promise(function(P,A){P=Ve(P);for(var K,V=b.objectStore(w),Z=T.length,W=new Array(Z),G=0,ee=0,X=function(xe){xe=xe.target,W[xe._pos]=xe.result,++ee===G&&P(W)},ie=Ct(A),ye=0;ye<Z;++ye)T[ye]!=null&&((K=V.get(T[ye]))._pos=ye,K.onsuccess=X,K.onerror=ie,++G);G===0&&P(W)})},get:function(k){var b=k.trans,T=k.key;return new Promise(function(P,A){P=Ve(P);var K=b.objectStore(w).get(T);K.onsuccess=function(V){return P(V.target.result)},K.onerror=Ct(A)})},query:(y=m,function(k){return new Promise(function(b,T){b=Ve(b);var P,A,K,G=k.trans,V=k.values,Z=k.limit,X=k.query,W=Z===1/0?void 0:Z,ee=X.index,X=X.range,G=G.objectStore(w),ee=ee.isPrimaryKey?G:G.index(ee.name),X=a(X);if(Z===0)return b({result:[]});y?((W=V?ee.getAll(X,W):ee.getAllKeys(X,W)).onsuccess=function(ie){return b({result:ie.target.result})},W.onerror=Ct(T)):(P=0,A=!V&&"openKeyCursor"in ee?ee.openKeyCursor(X):ee.openCursor(X),K=[],A.onsuccess=function(ie){var ye=A.result;return ye?(K.push(V?ye.value:ye.primaryKey),++P===Z?b({result:K}):void ye.continue()):b({result:K})},A.onerror=Ct(T))})}),openCursor:function(k){var b=k.trans,T=k.values,P=k.query,A=k.reverse,K=k.unique;return new Promise(function(V,Z){V=Ve(V);var ee=P.index,W=P.range,G=b.objectStore(w),G=ee.isPrimaryKey?G:G.index(ee.name),ee=A?K?"prevunique":"prev":K?"nextunique":"next",X=!T&&"openKeyCursor"in G?G.openKeyCursor(a(W),ee):G.openCursor(a(W),ee);X.onerror=Ct(Z),X.onsuccess=Ve(function(ie){var ye,xe,ke,_t,pe=X.result;pe?(pe.___id=++Zi,pe.done=!1,ye=pe.continue.bind(pe),xe=(xe=pe.continuePrimaryKey)&&xe.bind(pe),ke=pe.advance.bind(pe),_t=function(){throw new Error("Cursor not stopped")},pe.trans=b,pe.stop=pe.continue=pe.continuePrimaryKey=pe.advance=function(){throw new Error("Cursor not started")},pe.fail=Ve(Z),pe.next=function(){var ut=this,lt=1;return this.start(function(){return lt--?ut.continue():ut.stop()}).then(function(){return ut})},pe.start=function(ut){function lt(){if(X.result)try{ut()}catch(vt){pe.fail(vt)}else pe.done=!0,pe.start=function(){throw new Error("Cursor behind last entry")},pe.stop()}var Zn=new Promise(function(vt,Gt){vt=Ve(vt),X.onerror=Ct(Gt),pe.fail=Gt,pe.stop=function(zr){pe.stop=pe.continue=pe.continuePrimaryKey=pe.advance=_t,vt(zr)}});return X.onsuccess=Ve(function(vt){X.onsuccess=lt,lt()}),pe.continue=ye,pe.continuePrimaryKey=xe,pe.advance=ke,lt(),Zn},V(pe)):V(null)},Z)})},count:function(k){var b=k.query,T=k.trans,P=b.index,A=b.range;return new Promise(function(K,V){var Z=T.objectStore(w),W=P.isPrimaryKey?Z:Z.index(P.name),Z=a(A),W=Z?W.count(Z):W.count();W.onsuccess=Ve(function(G){return K(G.target.result)}),W.onerror=Ct(V)})}}}var l,f,v,x=(f=g,v=Io((l=e).objectStoreNames),{schema:{name:l.name,tables:v.map(function(S){return f.objectStore(S)}).map(function(S){var y=S.keyPath,b=S.autoIncrement,w=_(y),k={},b={name:S.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:y==null,compound:w,keyPath:y,autoIncrement:b,unique:!0,extractKey:Dr(y)},indexes:Io(S.indexNames).map(function(T){return S.index(T)}).map(function(K){var P=K.name,A=K.unique,V=K.multiEntry,K=K.keyPath,V={name:P,compound:_(K),keyPath:K,unique:A,multiEntry:V,extractKey:Dr(K)};return k[_n(K)]=V}),getIndexByKeyPath:function(T){return k[_n(T)]}};return k[":id"]=b.primaryKey,y!=null&&(k[_n(y)]=b.primaryKey),b})},hasGetAll:0<v.length&&"getAll"in f.objectStore(v[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),g=x.schema,m=x.hasGetAll,x=g.tables.map(u),p={};return x.forEach(function(S){return p[S.name]=S}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(S){if(!p[S])throw new Error("Table '".concat(S,"' not found"));return p[S]},MIN_KEY:-1/0,MAX_KEY:bn(t),schema:g}}function ea(e,t,n,a){var u=n.IDBKeyRange;return n.indexedDB,{dbcore:(a=$i(t,u,a),e.dbcore.reduce(function(l,f){return f=f.create,s(s({},l),f(l))},a))}}function Bn(e,a){var n=a.db,a=ea(e._middlewares,n,e._deps,a);e.core=a.dbcore,e.tables.forEach(function(u){var l=u.name;e.core.schema.tables.some(function(f){return f.name===l})&&(u.core=e.core.table(l),e[l]instanceof e.Table&&(e[l].core=u.core))})}function Hn(e,t,n,a){n.forEach(function(u){var l=a[u];t.forEach(function(f){var v=function g(m,x){return J(m,x)||(m=E(m))&&g(m,x)}(f,u);(!v||"value"in v&&v.value===void 0)&&(f===e.Transaction.prototype||f instanceof e.Transaction?B(f,u,{get:function(){return this.table(u)},set:function(g){Y(this,u,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):f[u]=new e.Table(u,l))})})}function Tr(e,t){t.forEach(function(n){for(var a in n)n[a]instanceof e.Table&&delete n[a]})}function ta(e,t){return e._cfg.version-t._cfg.version}function na(e,t,n,a){var u=e._dbSchema;n.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=Sr("$meta",jo("")[0],[]),e._storeNames.push("$meta"));var l=e._createTransaction("readwrite",e._storeNames,u);l.create(n),l._completion.catch(a);var f=l._reject.bind(l),v=oe.transless||oe;jt(function(){return oe.trans=l,oe.transless=v,t!==0?(Bn(e,n),m=t,((g=l).storeNames.includes("$meta")?g.table("$meta").get("version").then(function(x){return x??m}):ne.resolve(m)).then(function(x){return S=x,y=l,w=n,k=[],x=(p=e)._versions,b=p._dbSchema=zn(0,p.idbdb,w),(x=x.filter(function(T){return T._cfg.version>=S})).length!==0?(x.forEach(function(T){k.push(function(){var P=b,A=T._cfg.dbschema;Un(p,P,w),Un(p,A,w),b=p._dbSchema=A;var K=Er(P,A);K.add.forEach(function(ee){Or(w,ee[0],ee[1].primKey,ee[1].indexes)}),K.change.forEach(function(ee){if(ee.recreate)throw new te.Upgrade("Not yet support for changing primary key");var X=w.objectStore(ee.name);ee.add.forEach(function(ie){return Ln(X,ie)}),ee.change.forEach(function(ie){X.deleteIndex(ie.name),Ln(X,ie)}),ee.del.forEach(function(ie){return X.deleteIndex(ie)})});var V=T._cfg.contentUpgrade;if(V&&T._cfg.version>S){Bn(p,w),y._memoizedTables={};var Z=ue(A);K.del.forEach(function(ee){Z[ee]=P[ee]}),Tr(p,[p.Transaction.prototype]),Hn(p,[p.Transaction.prototype],h(Z),Z),y.schema=Z;var W,G=$(V);return G&&an(),K=ne.follow(function(){var ee;(W=V(y))&&G&&(ee=Kt.bind(null,null),W.then(ee,ee))}),W&&typeof W.then=="function"?ne.resolve(W):K.then(function(){return W})}}),k.push(function(P){var A,K,V=T._cfg.dbschema;A=V,K=P,[].slice.call(K.db.objectStoreNames).forEach(function(Z){return A[Z]==null&&K.db.deleteObjectStore(Z)}),Tr(p,[p.Transaction.prototype]),Hn(p,[p.Transaction.prototype],p._storeNames,p._dbSchema),y.schema=p._dbSchema}),k.push(function(P){p.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(p.idbdb.version/10)===T._cfg.version?(p.idbdb.deleteObjectStore("$meta"),delete p._dbSchema.$meta,p._storeNames=p._storeNames.filter(function(A){return A!=="$meta"})):P.objectStore("$meta").put(T._cfg.version,"version"))})}),function T(){return k.length?ne.resolve(k.shift()(y.idbtrans)).then(T):ne.resolve()}().then(function(){Mo(b,w)})):ne.resolve();var p,S,y,w,k,b}).catch(f)):(h(u).forEach(function(x){Or(n,x,u[x].primKey,u[x].indexes)}),Bn(e,n),void ne.follow(function(){return e.on.populate.fire(l)}).catch(f));var g,m})}function ra(e,t){Mo(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=zn(0,e.idbdb,t);Un(e,e._dbSchema,t);for(var a=0,u=Er(n,e._dbSchema).change;a<u.length;a++){var l=function(f){if(f.change.length||f.recreate)return console.warn("Unable to patch indexes of table ".concat(f.name," because it has changes on the type of index or primary key.")),{value:void 0};var v=t.objectStore(f.name);f.add.forEach(function(g){fe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(f.name,".").concat(g.src)),Ln(v,g)})}(u[a]);if(typeof l=="object")return l.value}}function Er(e,t){var n,a={del:[],add:[],change:[]};for(n in e)t[n]||a.del.push(n);for(n in t){var u=e[n],l=t[n];if(u){var f={name:n,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||u.primKey.auto!==l.primKey.auto)f.recreate=!0,a.change.push(f);else{var v=u.idxByName,g=l.idxByName,m=void 0;for(m in v)g[m]||f.del.push(m);for(m in g){var x=v[m],p=g[m];x?x.src!==p.src&&f.change.push(p):f.add.push(p)}(0<f.del.length||0<f.add.length||0<f.change.length)&&a.change.push(f)}}else a.add.push([n,l])}return a}function Or(e,t,n,a){var u=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return a.forEach(function(l){return Ln(u,l)}),u}function Mo(e,t){h(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(fe&&console.debug("Dexie: Creating missing table",n),Or(t,n,e[n].primKey,e[n].indexes))})}function Ln(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function zn(e,t,n){var a={};return q(t.objectStoreNames,0).forEach(function(u){for(var l=n.objectStore(u),f=kr(Ao(m=l.keyPath),m||"",!0,!1,!!l.autoIncrement,m&&typeof m!="string",!0),v=[],g=0;g<l.indexNames.length;++g){var x=l.index(l.indexNames[g]),m=x.keyPath,x=kr(x.name,m,!!x.unique,!!x.multiEntry,!1,m&&typeof m!="string",!1);v.push(x)}a[u]=Sr(u,f,v)}),a}function Un(e,t,n){for(var a=n.db.objectStoreNames,u=0;u<a.length;++u){var l=a[u],f=n.objectStore(l);e._hasGetAll="getAll"in f;for(var v=0;v<f.indexNames.length;++v){var g=f.indexNames[v],m=f.index(g).keyPath,x=typeof m=="string"?m:"["+q(m).join("+")+"]";!t[l]||(m=t[l].idxByName[x])&&(m.name=g,delete t[l].idxByName[x],t[l].idxByName[g]=m)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function jo(e){return e.split(",").map(function(t,n){var a=(t=t.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(a)?a.match(/^\[(.*)\]$/)[1].split("+"):a;return kr(a,u||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),_(u),n===0)})}var oa=(Yn.prototype._parseStoresSpec=function(e,t){h(e).forEach(function(n){if(e[n]!==null){var a=jo(e[n]),u=a.shift();if(u.unique=!0,u.multi)throw new te.Schema("Primary key cannot be multi-valued");a.forEach(function(l){if(l.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")}),t[n]=Sr(n,u,a)}})},Yn.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?D(this._cfg.storesSource,n):n;var n=t._versions,a={},u={};return n.forEach(function(l){D(a,l._cfg.storesSource),u=l._cfg.dbschema={},l._parseStoresSpec(a,u)}),t._dbSchema=u,Tr(t,[t._allTables,t,t.Transaction.prototype]),Hn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],h(u),u),t._storeNames=h(u),this},Yn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ae(this._cfg.contentUpgrade||ge,e),this},Yn);function Yn(){}function Cr(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Mt(Kn,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Pr(e){return e&&typeof e.databases=="function"}function Ar(e){return jt(function(){return oe.letThrough=!0,e()})}function Ir(e){return!("from"in e)}var st=function(e,t){if(!this){var n=new st;return e&&"d"in e&&D(n,e),n}D(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function wn(e,t,n){var a=De(t,n);if(!isNaN(a)){if(0<a)throw RangeError();if(Ir(e))return D(e,{from:t,to:n,d:1});var u=e.l,a=e.r;if(De(n,e.from)<0)return u?wn(u,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Fo(e);if(0<De(t,e.to))return a?wn(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Fo(e);De(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),0<De(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,u&&!e.l&&xn(e,u),a&&n&&xn(e,a)}}function xn(e,t){Ir(t)||function n(a,g){var l=g.from,f=g.to,v=g.l,g=g.r;wn(a,l,f),v&&n(a,v),g&&n(a,g)}(e,t)}function Ko(e,t){var n=Vn(t),a=n.next();if(a.done)return!1;for(var u=a.value,l=Vn(e),f=l.next(u.from),v=f.value;!a.done&&!f.done;){if(De(v.from,u.to)<=0&&0<=De(v.to,u.from))return!0;De(u.from,v.from)<0?u=(a=n.next(v.from)).value:v=(f=l.next(u.from)).value}return!1}function Vn(e){var t=Ir(e)?null:{s:0,n:e};return{next:function(n){for(var a=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,a)for(;t.n.l&&De(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!a||De(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Fo(e){var t,n,a=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),u=1<a?"r":a<-1?"l":"";u&&(t=u=="r"?"l":"r",n=s({},e),a=e[u],e.from=a.from,e.to=a.to,e[u]=a[u],n[u]=a[t],(e[t]=n).d=qo(n)),e.d=qo(e)}function qo(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function Wn(e,t){return h(t).forEach(function(n){e[n]?xn(e[n],t[n]):e[n]=function a(u){var l,f,v={};for(l in u)j(u,l)&&(f=u[l],v[l]=!f||typeof f!="object"||Ce.has(f.constructor)?f:a(f));return v}(t[n])}),e}function Mr(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Ko(t[n],e[n])})}C(st.prototype,((xt={add:function(e){return xn(this,e),this},addKey:function(e){return wn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return wn(t,n,n)}),this},hasKey:function(e){var t=Vn(this).next(e).value;return t&&De(t.from,e)<=0&&0<=De(t.to,e)}})[Ye]=function(){return Vn(this)},xt));var Wt={},jr={},Kr=!1;function Qn(e){Wn(jr,e),Kr||(Kr=!0,setTimeout(function(){Kr=!1,Fr(jr,!(jr={}))},0))}function Fr(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var a=0,u=Object.values(Wt);a<u.length;a++)Ro(f=u[a],e,n,t);else for(var l in e){var f,v=/^idb\:\/\/(.*)\/(.*)\//.exec(l);v&&(l=v[1],v=v[2],(f=Wt["idb://".concat(l,"/").concat(v)])&&Ro(f,e,n,t))}n.forEach(function(g){return g()})}function Ro(e,t,n,a){for(var u=[],l=0,f=Object.entries(e.queries.query);l<f.length;l++){for(var v=f[l],g=v[0],m=[],x=0,p=v[1];x<p.length;x++){var S=p[x];Mr(t,S.obsSet)?S.subscribers.forEach(function(b){return n.add(b)}):a&&m.push(S)}a&&u.push([g,m])}if(a)for(var y=0,w=u;y<w.length;y++){var k=w[y],g=k[0],m=k[1];e.queries.query[g]=m}}function ia(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Xe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var a=t.openCanceller,u=Math.round(10*e.verno),l=!1;function f(){if(t.openCanceller!==a)throw new te.DatabaseClosed("db.open() was cancelled")}function v(){return new ne(function(S,y){if(f(),!n)throw new te.MissingAPI;var w=e.name,k=t.autoSchema||!u?n.open(w):n.open(w,u);if(!k)throw new te.MissingAPI;k.onerror=Ct(y),k.onblocked=Ve(e._fireOnBlocked),k.onupgradeneeded=Ve(function(b){var T;x=k.transaction,t.autoSchema&&!e._options.allowEmptyDB?(k.onerror=yn,x.abort(),k.result.close(),(T=n.deleteDatabase(w)).onsuccess=T.onerror=Ve(function(){y(new te.NoSuchDatabase("Database ".concat(w," doesnt exist")))})):(x.onerror=Ct(y),b=b.oldVersion>Math.pow(2,62)?0:b.oldVersion,p=b<1,e.idbdb=k.result,l&&ra(e,x),na(e,b/10,x,y))},y),k.onsuccess=Ve(function(){x=null;var b,T,P,A,K,V=e.idbdb=k.result,Z=q(V.objectStoreNames);if(0<Z.length)try{var W=V.transaction((A=Z).length===1?A[0]:A,"readonly");if(t.autoSchema)T=V,P=W,(b=e).verno=T.version/10,P=b._dbSchema=zn(0,T,P),b._storeNames=q(T.objectStoreNames,0),Hn(b,[b._allTables],h(P),P);else if(Un(e,e._dbSchema,W),((K=Er(zn(0,(K=e).idbdb,W),K._dbSchema)).add.length||K.change.some(function(G){return G.add.length||G.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),u=V.version+1,l=!0,S(v());Bn(e,W)}catch{}sn.push(e),V.onversionchange=Ve(function(G){t.vcFired=!0,e.on("versionchange").fire(G)}),V.onclose=Ve(function(G){e.on("close").fire(G)}),p&&(K=e._deps,W=w,V=K.indexedDB,K=K.IDBKeyRange,Pr(V)||W===Kn||Cr(V,K).put({name:W}).catch(ge)),S()},y)}).catch(function(S){switch(S==null?void 0:S.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),v();break;case"VersionError":if(0<u)return u=0,v()}return ne.reject(S)})}var g,m=t.dbReadyResolve,x=null,p=!1;return ne.race([a,(typeof navigator>"u"?ne.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(S){function y(){return indexedDB.databases().finally(S)}g=setInterval(y,100),y()}).finally(function(){return clearInterval(g)}):Promise.resolve()).then(v)]).then(function(){return f(),t.onReadyBeingFired=[],ne.resolve(Ar(function(){return e.on.ready.fire(e.vip)})).then(function S(){if(0<t.onReadyBeingFired.length){var y=t.onReadyBeingFired.reduce(ae,ge);return t.onReadyBeingFired=[],ne.resolve(Ar(function(){return y(e.vip)})).then(S)}})}).finally(function(){t.openCanceller===a&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(S){t.dbOpenError=S;try{x&&x.abort()}catch{}return a===t.openCanceller&&e._close(),Xe(S)}).finally(function(){t.openComplete=!0,m()}).then(function(){var S;return p&&(S={},e.tables.forEach(function(y){y.schema.indexes.forEach(function(w){w.name&&(S["idb://".concat(e.name,"/").concat(y.name,"/").concat(w.name)]=new st(-1/0,[[[]]]))}),S["idb://".concat(e.name,"/").concat(y.name,"/")]=S["idb://".concat(e.name,"/").concat(y.name,"/:dels")]=new st(-1/0,[[[]]])}),Rt(mn).fire(S),Fr(S,!0)),e})}function qr(e){function t(l){return e.next(l)}var n=u(t),a=u(function(l){return e.throw(l)});function u(l){return function(g){var v=l(g),g=v.value;return v.done?g:g&&typeof g.then=="function"?g.then(n,a):_(g)?Promise.all(g).then(n,a):n(g)}}return u(t)()}function Gn(e,t,n){for(var a=_(e)?e.slice():[e],u=0;u<n;++u)a.push(t);return a}var aa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return s(s({},e),{table:function(t){var n=e.table(t),a=n.schema,u={},l=[];function f(p,S,y){var w=_n(p),k=u[w]=u[w]||[],b=p==null?0:typeof p=="string"?1:p.length,T=0<S,T=s(s({},y),{name:T?"".concat(w,"(virtual-from:").concat(y.name,")"):y.name,lowLevelIndex:y,isVirtual:T,keyTail:S,keyLength:b,extractKey:Dr(p),unique:!T&&y.unique});return k.push(T),T.isPrimaryKey||l.push(T),1<b&&f(b===2?p[0]:p.slice(0,b-1),S+1,y),k.sort(function(P,A){return P.keyTail-A.keyTail}),T}t=f(a.primaryKey.keyPath,0,a.primaryKey),u[":id"]=[t];for(var v=0,g=a.indexes;v<g.length;v++){var m=g[v];f(m.keyPath,0,m)}function x(p){var S,y=p.query.index;return y.isVirtual?s(s({},p),{query:{index:y.lowLevelIndex,range:(S=p.query.range,y=y.keyTail,{type:S.type===1?2:S.type,lower:Gn(S.lower,S.lowerOpen?e.MAX_KEY:e.MIN_KEY,y),lowerOpen:!0,upper:Gn(S.upper,S.upperOpen?e.MIN_KEY:e.MAX_KEY,y),upperOpen:!0})}}):p}return s(s({},n),{schema:s(s({},a),{primaryKey:t,indexes:l,getIndexByKeyPath:function(p){return(p=u[_n(p)])&&p[0]}}),count:function(p){return n.count(x(p))},query:function(p){return n.query(x(p))},openCursor:function(p){var S=p.query.index,y=S.keyTail,w=S.isVirtual,k=S.keyLength;return w?n.openCursor(x(p)).then(function(T){return T&&b(T)}):n.openCursor(p);function b(T){return Object.create(T,{continue:{value:function(P){P!=null?T.continue(Gn(P,p.reverse?e.MAX_KEY:e.MIN_KEY,y)):p.unique?T.continue(T.key.slice(0,k).concat(p.reverse?e.MIN_KEY:e.MAX_KEY,y)):T.continue()}},continuePrimaryKey:{value:function(P,A){T.continuePrimaryKey(Gn(P,e.MAX_KEY,y),A)}},primaryKey:{get:function(){return T.primaryKey}},key:{get:function(){var P=T.key;return k===1?P[0]:P.slice(0,k)}},value:{get:function(){return T.value}}})}}})}})}};function Rr(e,t,n,a){return n=n||{},a=a||"",h(e).forEach(function(u){var l,f,v;j(t,u)?(l=e[u],f=t[u],typeof l=="object"&&typeof f=="object"&&l&&f?(v=Ge(l))!==Ge(f)?n[a+u]=t[u]:v==="Object"?Rr(l,f,n,a+u+"."):l!==f&&(n[a+u]=t[u]):l!==f&&(n[a+u]=t[u])):n[a+u]=void 0}),h(t).forEach(function(u){j(e,u)||(n[a+u]=t[u])}),n}function Nr(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var sa={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return s(s({},e),{table:function(t){var n=e.table(t),a=n.schema.primaryKey;return s(s({},n),{mutate:function(u){var l=oe.trans,f=l.table(t).hook,v=f.deleting,g=f.creating,m=f.updating;switch(u.type){case"add":if(g.fire===ge)break;return l._promise("readwrite",function(){return x(u)},!0);case"put":if(g.fire===ge&&m.fire===ge)break;return l._promise("readwrite",function(){return x(u)},!0);case"delete":if(v.fire===ge)break;return l._promise("readwrite",function(){return x(u)},!0);case"deleteRange":if(v.fire===ge)break;return l._promise("readwrite",function(){return function p(S,y,w){return n.query({trans:S,values:!1,query:{index:a,range:y},limit:w}).then(function(k){var b=k.result;return x({type:"delete",keys:b,trans:S}).then(function(T){return 0<T.numFailures?Promise.reject(T.failures[0]):b.length<w?{failures:[],numFailures:0,lastResult:void 0}:p(S,s(s({},y),{lower:b[b.length-1],lowerOpen:!0}),w)})})}(u.trans,u.range,1e4)},!0)}return n.mutate(u);function x(p){var S,y,w,k=oe.trans,b=p.keys||Nr(a,p);if(!b)throw new Error("Keys missing");return(p=p.type==="add"||p.type==="put"?s(s({},p),{keys:b}):s({},p)).type!=="delete"&&(p.values=c([],p.values)),p.keys&&(p.keys=c([],p.keys)),S=n,w=b,((y=p).type==="add"?Promise.resolve([]):S.getMany({trans:y.trans,keys:w,cache:"immutable"})).then(function(T){var P=b.map(function(A,K){var V,Z,W,G=T[K],ee={onerror:null,onsuccess:null};return p.type==="delete"?v.fire.call(ee,A,G,k):p.type==="add"||G===void 0?(V=g.fire.call(ee,A,p.values[K],k),A==null&&V!=null&&(p.keys[K]=A=V,a.outbound||R(p.values[K],a.keyPath,A))):(V=Rr(G,p.values[K]),(Z=m.fire.call(ee,V,A,G,k))&&(W=p.values[K],Object.keys(Z).forEach(function(X){j(W,X)?W[X]=Z[X]:R(W,X,Z[X])}))),ee});return n.mutate(p).then(function(A){for(var K=A.failures,V=A.results,Z=A.numFailures,A=A.lastResult,W=0;W<b.length;++W){var G=(V||b)[W],ee=P[W];G==null?ee.onerror&&ee.onerror(K[W]):ee.onsuccess&&ee.onsuccess(p.type==="put"&&T[W]?p.values[W]:G)}return{failures:K,results:V,numFailures:Z,lastResult:A}}).catch(function(A){return P.forEach(function(K){return K.onerror&&K.onerror(A)}),Promise.reject(A)})})}}})}})}};function No(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var a=[],u=0,l=0;u<t.keys.length&&l<e.length;++u)De(t.keys[u],e[l])===0&&(a.push(n?Le(t.values[u]):t.values[u]),++l);return a.length===e.length?a:null}catch{return null}}var ua={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return s(s({},n),{getMany:function(a){if(!a.cache)return n.getMany(a);var u=No(a.keys,a.trans._cache,a.cache==="clone");return u?ne.resolve(u):n.getMany(a).then(function(l){return a.trans._cache={keys:a.keys,values:a.cache==="clone"?Le(l):l},l})},mutate:function(a){return a.type!=="add"&&(a.trans._cache=null),n.mutate(a)}})}}}};function Bo(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function Ho(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var la={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new st(e.MIN_KEY,e.MAX_KEY);return s(s({},e),{transaction:function(a,u,l){if(oe.subscr&&u!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(oe.querier));return e.transaction(a,u,l)},table:function(a){var u=e.table(a),l=u.schema,f=l.primaryKey,p=l.indexes,v=f.extractKey,g=f.outbound,m=f.autoIncrement&&p.filter(function(y){return y.compound&&y.keyPath.includes(f.keyPath)}),x=s(s({},u),{mutate:function(y){function w(X){return X="idb://".concat(t,"/").concat(a,"/").concat(X),A[X]||(A[X]=new st)}var k,b,T,P=y.trans,A=y.mutatedParts||(y.mutatedParts={}),K=w(""),V=w(":dels"),Z=y.type,ee=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[Nr(f,y).filter(function(X){return X}),y.values]:[],W=ee[0],G=ee[1],ee=y.trans._cache;return _(W)?(K.addKeys(W),(ee=Z==="delete"||W.length===G.length?No(W,ee):null)||V.addKeys(W),(ee||G)&&(k=w,b=ee,T=G,l.indexes.forEach(function(X){var ie=k(X.name||"");function ye(ke){return ke!=null?X.extractKey(ke):null}function xe(ke){return X.multiEntry&&_(ke)?ke.forEach(function(_t){return ie.addKey(_t)}):ie.addKey(ke)}(b||T).forEach(function(ke,ut){var pe=b&&ye(b[ut]),ut=T&&ye(T[ut]);De(pe,ut)!==0&&(pe!=null&&xe(pe),ut!=null&&xe(ut))})}))):W?(G={from:(G=W.lower)!==null&&G!==void 0?G:e.MIN_KEY,to:(G=W.upper)!==null&&G!==void 0?G:e.MAX_KEY},V.add(G),K.add(G)):(K.add(n),V.add(n),l.indexes.forEach(function(X){return w(X.name).add(n)})),u.mutate(y).then(function(X){return!W||y.type!=="add"&&y.type!=="put"||(K.addKeys(X.results),m&&m.forEach(function(ie){for(var ye=y.values.map(function(pe){return ie.extractKey(pe)}),xe=ie.keyPath.findIndex(function(pe){return pe===f.keyPath}),ke=0,_t=X.results.length;ke<_t;++ke)ye[ke][xe]=X.results[ke];w(ie.name).addKeys(ye)})),P.mutatedParts=Wn(P.mutatedParts||{},A),X})}}),p=function(w){var k=w.query,w=k.index,k=k.range;return[w,new st((w=k.lower)!==null&&w!==void 0?w:e.MIN_KEY,(k=k.upper)!==null&&k!==void 0?k:e.MAX_KEY)]},S={get:function(y){return[f,new st(y.key)]},getMany:function(y){return[f,new st().addKeys(y.keys)]},count:p,query:p,openCursor:p};return h(S).forEach(function(y){x[y]=function(w){var k=oe.subscr,b=!!k,T=Bo(oe,u)&&Ho(y,w)?w.obsSet={}:k;if(b){var P=function(G){return G="idb://".concat(t,"/").concat(a,"/").concat(G),T[G]||(T[G]=new st)},A=P(""),K=P(":dels"),k=S[y](w),b=k[0],k=k[1];if((y==="query"&&b.isPrimaryKey&&!w.values?K:P(b.name||"")).add(k),!b.isPrimaryKey){if(y!=="count"){var V=y==="query"&&g&&w.values&&u.query(s(s({},w),{values:!1}));return u[y].apply(this,arguments).then(function(G){if(y==="query"){if(g&&w.values)return V.then(function(ye){return ye=ye.result,A.addKeys(ye),G});var ee=w.values?G.result.map(v):G.result;(w.values?A:K).addKeys(ee)}else if(y==="openCursor"){var X=G,ie=w.values;return X&&Object.create(X,{key:{get:function(){return K.addKey(X.primaryKey),X.key}},primaryKey:{get:function(){var ye=X.primaryKey;return K.addKey(ye),ye}},value:{get:function(){return ie&&A.addKey(X.primaryKey),X.value}}})}return G})}K.add(n)}}return u[y].apply(this,arguments)}}),x}})}};function Lo(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var a=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===a?null:(t=s({},t),_(t.keys)&&(t.keys=t.keys.filter(function(u,l){return!(l in n.failures)})),"values"in t&&_(t.values)&&(t.values=t.values.filter(function(u,l){return!(l in n.failures)})),t)}function Br(e,t){return n=e,((a=t).lower===void 0||(a.lowerOpen?0<De(n,a.lower):0<=De(n,a.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?De(e,t.upper)<0:De(e,t.upper)<=0));var n,a}function zo(e,t,S,a,u,l){if(!S||S.length===0)return e;var f=t.query.index,v=f.multiEntry,g=t.query.range,m=a.schema.primaryKey.extractKey,x=f.extractKey,p=(f.lowLevelIndex||f).extractKey,S=S.reduce(function(y,w){var k=y,b=[];if(w.type==="add"||w.type==="put")for(var T=new st,P=w.values.length-1;0<=P;--P){var A,K=w.values[P],V=m(K);T.hasKey(V)||(A=x(K),(v&&_(A)?A.some(function(X){return Br(X,g)}):Br(A,g))&&(T.addKey(V),b.push(K)))}switch(w.type){case"add":var Z=new st().addKeys(t.values?y.map(function(ie){return m(ie)}):y),k=y.concat(t.values?b.filter(function(ie){return ie=m(ie),!Z.hasKey(ie)&&(Z.addKey(ie),!0)}):b.map(function(ie){return m(ie)}).filter(function(ie){return!Z.hasKey(ie)&&(Z.addKey(ie),!0)}));break;case"put":var W=new st().addKeys(w.values.map(function(ie){return m(ie)}));k=y.filter(function(ie){return!W.hasKey(t.values?m(ie):ie)}).concat(t.values?b:b.map(function(ie){return m(ie)}));break;case"delete":var G=new st().addKeys(w.keys);k=y.filter(function(ie){return!G.hasKey(t.values?m(ie):ie)});break;case"deleteRange":var ee=w.range;k=y.filter(function(ie){return!Br(m(ie),ee)})}return k},e);return S===e?e:(S.sort(function(y,w){return De(p(y),p(w))||De(m(y),m(w))}),t.limit&&t.limit<1/0&&(S.length>t.limit?S.length=t.limit:e.length===t.limit&&S.length<t.limit&&(u.dirty=!0)),l?Object.freeze(S):S)}function Uo(e,t){return De(e.lower,t.lower)===0&&De(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function ca(e,t){return function(n,a,u,l){if(n===void 0)return a!==void 0?-1:0;if(a===void 0)return 1;if((a=De(n,a))===0){if(u&&l)return 0;if(u)return 1;if(l)return-1}return a}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,a,u,l){if(n===void 0)return a!==void 0?1:0;if(a===void 0)return-1;if((a=De(n,a))===0){if(u&&l)return 0;if(u)return-1;if(l)return 1}return a}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function fa(e,t,n,a){e.subscribers.add(n),a.addEventListener("abort",function(){var u,l;e.subscribers.delete(n),e.subscribers.size===0&&(u=e,l=t,setTimeout(function(){u.subscribers.size===0&&ve(l,u)},3e3))})}var da={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return s(s({},e),{transaction:function(n,a,u){var l,f,v=e.transaction(n,a,u);return a==="readwrite"&&(f=(l=new AbortController).signal,u=function(g){return function(){if(l.abort(),a==="readwrite"){for(var m=new Set,x=0,p=n;x<p.length;x++){var S=p[x],y=Wt["idb://".concat(t,"/").concat(S)];if(y){var w=e.table(S),k=y.optimisticOps.filter(function(ie){return ie.trans===v});if(v._explicit&&g&&v.mutatedParts)for(var b=0,T=Object.values(y.queries.query);b<T.length;b++)for(var P=0,A=(Z=T[b]).slice();P<A.length;P++)Mr((W=A[P]).obsSet,v.mutatedParts)&&(ve(Z,W),W.subscribers.forEach(function(ie){return m.add(ie)}));else if(0<k.length){y.optimisticOps=y.optimisticOps.filter(function(ie){return ie.trans!==v});for(var K=0,V=Object.values(y.queries.query);K<V.length;K++)for(var Z,W,G,ee=0,X=(Z=V[K]).slice();ee<X.length;ee++)(W=X[ee]).res!=null&&v.mutatedParts&&(g&&!W.dirty?(G=Object.isFrozen(W.res),G=zo(W.res,W.req,k,w,W,G),W.dirty?(ve(Z,W),W.subscribers.forEach(function(ie){return m.add(ie)})):G!==W.res&&(W.res=G,W.promise=ne.resolve({result:G}))):(W.dirty&&ve(Z,W),W.subscribers.forEach(function(ie){return m.add(ie)})))}}}m.forEach(function(ie){return ie()})}}},v.addEventListener("abort",u(!1),{signal:f}),v.addEventListener("error",u(!1),{signal:f}),v.addEventListener("complete",u(!0),{signal:f})),v},table:function(n){var a=e.table(n),u=a.schema.primaryKey;return s(s({},a),{mutate:function(l){var f=oe.trans;if(u.outbound||f.db._options.cache==="disabled"||f.explicit||f.idbtrans.mode!=="readwrite")return a.mutate(l);var v=Wt["idb://".concat(t,"/").concat(n)];return v?(f=a.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||Nr(u,l).some(function(g){return g==null}))?(v.optimisticOps.push(l),l.mutatedParts&&Qn(l.mutatedParts),f.then(function(g){0<g.numFailures&&(ve(v.optimisticOps,l),(g=Lo(0,l,g))&&v.optimisticOps.push(g),l.mutatedParts&&Qn(l.mutatedParts))}),f.catch(function(){ve(v.optimisticOps,l),l.mutatedParts&&Qn(l.mutatedParts)})):f.then(function(g){var m=Lo(0,s(s({},l),{values:l.values.map(function(x,p){var S;return g.failures[p]?x:(x=(S=u.keyPath)!==null&&S!==void 0&&S.includes(".")?Le(x):s({},x),R(x,u.keyPath,g.results[p]),x)})}),g);v.optimisticOps.push(m),queueMicrotask(function(){return l.mutatedParts&&Qn(l.mutatedParts)})}),f):a.mutate(l)},query:function(l){if(!Bo(oe,a)||!Ho("query",l))return a.query(l);var f=((m=oe.trans)===null||m===void 0?void 0:m.db._options.cache)==="immutable",p=oe,v=p.requery,g=p.signal,m=function(w,k,b,T){var P=Wt["idb://".concat(w,"/").concat(k)];if(!P)return[];if(!(k=P.queries[b]))return[null,!1,P,null];var A=k[(T.query?T.query.index.name:null)||""];if(!A)return[null,!1,P,null];switch(b){case"query":var K=A.find(function(V){return V.req.limit===T.limit&&V.req.values===T.values&&Uo(V.req.query.range,T.query.range)});return K?[K,!0,P,A]:[A.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=T.limit&&(!T.values||V.req.values)&&ca(V.req.query.range,T.query.range)}),!1,P,A];case"count":return K=A.find(function(V){return Uo(V.req.query.range,T.query.range)}),[K,!!K,P,A]}}(t,n,"query",l),x=m[0],p=m[1],S=m[2],y=m[3];return x&&p?x.obsSet=l.obsSet:(p=a.query(l).then(function(w){var k=w.result;if(x&&(x.res=k),f){for(var b=0,T=k.length;b<T;++b)Object.freeze(k[b]);Object.freeze(k)}else w.result=Le(k);return w}).catch(function(w){return y&&x&&ve(y,x),Promise.reject(w)}),x={obsSet:l.obsSet,promise:p,subscribers:new Set,type:"query",req:l,dirty:!1},y?y.push(x):(y=[x],(S=S||(Wt["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=y)),fa(x,y,v,g),x.promise.then(function(w){return{result:zo(w.result,l,S==null?void 0:S.optimisticOps,a,x,f)}})}})}})}};function Jn(e,t){return new Proxy(e,{get:function(n,a,u){return a==="db"?t:Reflect.get(n,a,u)}})}var Mt=(Ze.prototype.version=function(e){if(isNaN(e)||e<.1)throw new te.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(a){return a._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(ta),n.stores({}),this._state.autoSchema=!1,n)},Ze.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||oe.letThrough||this._vip)?e():new ne(function(n,a){if(t._state.openComplete)return a(new te.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void a(new te.DatabaseClosed);t.open().catch(ge)}t._state.dbReadyPromise.then(n,a)}).then(e)},Ze.prototype.use=function(e){var t=e.stack,n=e.create,a=e.level,u=e.name;return u&&this.unuse({stack:t,name:u}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:a??10,name:u}),e.sort(function(l,f){return l.level-f.level}),this},Ze.prototype.unuse=function(e){var t=e.stack,n=e.name,a=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(u){return a?u.create!==a:!!n&&u.name!==n})),this},Ze.prototype.open=function(){var e=this;return Ut(Et,function(){return ia(e)})},Ze.prototype._close=function(){var e=this._state,t=sn.indexOf(this);if(0<=t&&sn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new ne(function(n){e.dbReadyResolve=n}),e.openCanceller=new ne(function(n,a){e.cancelOpen=a}))},Ze.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new te.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new te.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},Ze.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",a=this._state;return new ne(function(u,l){function f(){t.close(e);var v=t._deps.indexedDB.deleteDatabase(t.name);v.onsuccess=Ve(function(){var g,m,x;g=t._deps,m=t.name,x=g.indexedDB,g=g.IDBKeyRange,Pr(x)||m===Kn||Cr(x,g).delete(m).catch(ge),u()}),v.onerror=Ct(l),v.onblocked=t._fireOnBlocked}if(n)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(f):f()})},Ze.prototype.backendDB=function(){return this.idbdb},Ze.prototype.isOpen=function(){return this.idbdb!==null},Ze.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},Ze.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ze.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ze.prototype,"tables",{get:function(){var e=this;return h(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Ze.prototype.transaction=function(){var e=(function(t,n,a){var u=arguments.length;if(u<2)throw new te.InvalidArgument("Too few arguments");for(var l=new Array(u-1);--u;)l[u-1]=arguments[u];return a=l.pop(),[t,ce(l),a]}).apply(this,arguments);return this._transaction.apply(this,e)},Ze.prototype._transaction=function(e,t,n){var a=this,u=oe.trans;u&&u.db===this&&e.indexOf("!")===-1||(u=null);var l,f,v=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(f=t.map(function(m){if(m=m instanceof a.Table?m.name:m,typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),e=="r"||e===yr)l=yr;else{if(e!="rw"&&e!=mr)throw new te.InvalidArgument("Invalid transaction mode: "+e);l=mr}if(u){if(u.mode===yr&&l===mr){if(!v)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&f.forEach(function(m){if(u&&u.storeNames.indexOf(m)===-1){if(!v)throw new te.SubTransaction("Table "+m+" not included in parent transaction.");u=null}}),v&&u&&!u.active&&(u=null)}}catch(m){return u?u._promise(null,function(x,p){p(m)}):Xe(m)}var g=(function m(x,p,S,y,w){return ne.resolve().then(function(){var k=oe.transless||oe,b=x._createTransaction(p,S,x._dbSchema,y);if(b.explicit=!0,k={trans:b,transless:k},y)b.idbtrans=y.idbtrans;else try{b.create(),b.idbtrans._explicit=!0,x._state.PR1398_maxLoop=3}catch(A){return A.name===Se.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return m(x,p,S,null,w)})):Xe(A)}var T,P=$(w);return P&&an(),k=ne.follow(function(){var A;(T=w.call(b,b))&&(P?(A=Kt.bind(null,null),T.then(A,A)):typeof T.next=="function"&&typeof T.throw=="function"&&(T=qr(T)))},k),(T&&typeof T.then=="function"?ne.resolve(T).then(function(A){return b.active?A:Xe(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return T})).then(function(A){return y&&b._resolve(),b._completion.then(function(){return A})}).catch(function(A){return b._reject(A),Xe(A)})})}).bind(null,this,l,f,u,n);return u?u._promise(l,g,"lock"):oe.trans?Ut(oe.transless,function(){return a._whenReady(g)}):this._whenReady(g)},Ze.prototype.table=function(e){if(!j(this._allTables,e))throw new te.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Ze);function Ze(e,t){var n=this;this._middlewares={},this.verno=0;var a=Ze.dependencies;this._options=t=s({addons:Ze.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},a=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,l,f,v,g,m={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ge,dbReadyPromise:null,cancelOpen:ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};m.dbReadyPromise=new ne(function(p){m.dbReadyResolve=p}),m.openCanceller=new ne(function(p,S){m.cancelOpen=S}),this._state=m,this.name=e,this.on=vn(this,"populate","blocked","versionchange","close",{ready:[ae,ge]}),this.on.ready.subscribe=F(this.on.ready.subscribe,function(p){return function(S,y){Ze.vip(function(){var w,k=n._state;k.openComplete?(k.dbOpenError||ne.resolve().then(S),y&&p(S)):k.onReadyBeingFired?(k.onReadyBeingFired.push(S),y&&p(S)):(p(S),w=n,y||p(function b(){w.on.ready.unsubscribe(S),w.on.ready.unsubscribe(b)}))})}}),this.Collection=(u=this,pn(Qi.prototype,function(T,b){this.db=u;var y=wo,w=null;if(b)try{y=b()}catch(P){w=P}var k=T._ctx,b=k.table,T=b.hook.reading.fire;this._ctx={table:b,index:k.index,isPrimKey:!k.index||b.schema.primKey.keyPath&&k.index===b.schema.primKey.name,range:y,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:k.or,valueMapper:T!==ft?T:null}})),this.Table=(l=this,pn(Do.prototype,function(p,S,y){this.db=l,this._tx=y,this.name=p,this.schema=S,this.hook=l._allTables[p]?l._allTables[p].hook:vn(null,{creating:[Dt,ge],reading:[dt,ft],updating:[at,ge],deleting:[ht,ge]})})),this.Transaction=(f=this,pn(Xi.prototype,function(p,S,y,w,k){var b=this;this.db=f,this.mode=p,this.storeNames=S,this.schema=y,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=vn(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ne(function(T,P){b._resolve=T,b._reject=P}),this._completion.then(function(){b.active=!1,b.on.complete.fire()},function(T){var P=b.active;return b.active=!1,b.on.error.fire(T),b.parent?b.parent._reject(T):P&&b.idbtrans&&b.idbtrans.abort(),Xe(T)})})),this.Version=(v=this,pn(oa.prototype,function(p){this.db=v,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(g=this,pn(Po.prototype,function(p,S,y){if(this.db=g,this._ctx={table:p,index:S===":id"?null:S,or:y},this._cmp=this._ascending=De,this._descending=function(w,k){return De(k,w)},this._max=function(w,k){return 0<De(w,k)?w:k},this._min=function(w,k){return De(w,k)<0?w:k},this._IDBKeyRange=g._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})),this.on("versionchange",function(p){0<p.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=bn(t.IDBKeyRange),this._createTransaction=function(p,S,y,w){return new n.Transaction(p,S,y,n._options.chromeTransactionDurability,w)},this._fireOnBlocked=function(p){n.on("blocked").fire(p),sn.filter(function(S){return S.name===n.name&&S!==n&&!S._state.vcFired}).map(function(S){return S.on("versionchange").fire(p)})},this.use(ua),this.use(da),this.use(la),this.use(aa),this.use(sa);var x=new Proxy(this,{get:function(p,S,y){if(S==="_vip")return!0;if(S==="table")return function(k){return Jn(n.table(k),x)};var w=Reflect.get(p,S,y);return w instanceof Do?Jn(w,x):S==="tables"?w.map(function(k){return Jn(k,x)}):S==="_createTransaction"?function(){return Jn(w.apply(this,arguments),x)}:w}});this.vip=x,a.forEach(function(p){return p(n)})}var Xn,xt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ha=(Hr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},Hr.prototype[xt]=function(){return this},Hr);function Hr(e){this._subscribe=e}try{Xn={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch{Xn={indexedDB:null,IDBKeyRange:null}}function Yo(e){var t,n=!1,a=new ha(function(u){var l=$(e),f,v=!1,g={},m={},x={get closed(){return v},unsubscribe:function(){v||(v=!0,f&&f.abort(),p&&Rt.storagemutated.unsubscribe(y))}};u.start&&u.start(x);var p=!1,S=function(){return gr(w)},y=function(k){Wn(g,k),Mr(m,g)&&S()},w=function(){var k,b,T;!v&&Xn.indexedDB&&(g={},k={},f&&f.abort(),f=new AbortController,T=function(P){var A=rn();try{l&&an();var K=jt(e,P);return K=l?K.finally(Kt):K}finally{A&&on()}}(b={subscr:k,signal:f.signal,requery:S,querier:e,trans:null}),Promise.resolve(T).then(function(P){n=!0,t=P,v||b.signal.aborted||(g={},function(A){for(var K in A)if(j(A,K))return;return 1}(m=k)||p||(Rt(mn,y),p=!0),gr(function(){return!v&&u.next&&u.next(P)}))},function(P){n=!1,["DatabaseClosedError","AbortError"].includes(P==null?void 0:P.name)||v||gr(function(){v||u.error&&u.error(P)})}))};return setTimeout(S,0),x});return a.hasValue=function(){return n},a.getValue=function(){return t},a}var Qt=Mt;function Lr(e){var t=Nt;try{Nt=!0,Rt.storagemutated.fire(e),Fr(e,!0)}finally{Nt=t}}C(Qt,s(s({},Je),{delete:function(e){return new Qt(e,{addons:[]}).delete()},exists:function(e){return new Qt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=Qt.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(Pr(n)?Promise.resolve(n.databases()).then(function(a){return a.map(function(u){return u.name}).filter(function(u){return u!==Kn})}):Cr(n,t).toCollection().primaryKeys()).then(e)}catch{return Xe(new te.MissingAPI)}var t,n},defineClass:function(){return function(e){D(this,e)}},ignoreTransaction:function(e){return oe.trans?Ut(oe.transless,e):e()},vip:Ar,async:function(e){return function(){try{var t=qr(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ne.resolve(t)}catch(n){return Xe(n)}}},spawn:function(e,t,n){try{var a=qr(e.apply(n,t||[]));return a&&typeof a.then=="function"?a:ne.resolve(a)}catch(u){return Xe(u)}},currentTransaction:{get:function(){return oe.trans||null}},waitFor:function(e,t){return t=ne.resolve(typeof e=="function"?Qt.ignoreTransaction(e):e).timeout(t||6e4),oe.trans?oe.trans.waitFor(t):t},Promise:ne,debug:{get:function(){return fe},set:function(e){_e(e)}},derive:N,extend:D,props:C,override:F,Events:vn,on:Rt,liveQuery:Yo,extendObservabilitySet:Wn,getByKeyPath:Q,setByKeyPath:R,delByKeyPath:function(e,t){typeof t=="string"?R(e,t,void 0):"length"in t&&[].map.call(t,function(n){R(e,n,void 0)})},shallowClone:ue,deepClone:Le,getObjectDiff:Rr,cmp:De,asap:H,minKey:-1/0,addons:[],connections:sn,errnames:Se,dependencies:Xn,cache:Wt,semVer:"4.0.11",version:"4.0.11".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),Qt.maxKey=bn(Qt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rt(mn,function(e){Nt||(e=new CustomEvent(xr,{detail:e}),Nt=!0,dispatchEvent(e),Nt=!1)}),addEventListener(xr,function(e){e=e.detail,Nt||Lr(e)}));var cn,Nt=!1,Vo=function(){};return typeof BroadcastChannel<"u"&&((Vo=function(){(cn=new BroadcastChannel(xr)).onmessage=function(e){return e.data&&Lr(e.data)}})(),typeof cn.unref=="function"&&cn.unref(),Rt(mn,function(e){Nt||cn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Mt.disableBfCache&&e.persisted){fe&&console.debug("Dexie: handling persisted pagehide"),cn!=null&&cn.close();for(var t=0,n=sn;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Mt.disableBfCache&&e.persisted&&(fe&&console.debug("Dexie: handling persisted pageshow"),Vo(),Lr({all:new st(-1/0,[[]])}))})),ne.rejectionMapper=function(e,t){return!e||e instanceof le||e instanceof TypeError||e instanceof SyntaxError||!e.name||!tt[e.name]?e:(t=new tt[e.name](t||e.message,e),"stack"in e&&B(t,"stack",{get:function(){return this.inner.stack}}),t)},_e(fe),s(Mt,Object.freeze({__proto__:null,Dexie:Mt,liveQuery:Yo,Entity:xo,cmp:De,PropModification:gn,replacePrefix:function(e,t){return new gn({replacePrefix:[e,t]})},add:function(e){return new gn({add:e})},remove:function(e){return new gn({remove:e})},default:Mt,RangeSet:st,mergeRanges:xn,rangesOverlap:Ko}),{default:Mt}),Mt})}(rr)),rr.exports}var ds=fs();const to=Pi(ds),oi=Symbol.for("Dexie"),sr=globalThis[oi]||(globalThis[oi]=to);if(to.semVer!==sr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${to.semVer} and ${sr.semVer}`);const{liveQuery:Ll,mergeRanges:zl,rangesOverlap:Ul,RangeSet:Yl,cmp:Vl,Entity:Wl,PropModification:Ql,replacePrefix:Gl,add:Jl,remove:Xl}=sr;class hs{constructor(){this._db=new sr("FastingHours"),this._db.version(20).stores({history:"id, started",hunger:"id, created",water:"id, created"})}browseHistory(){return this._db.history.toArray()}browseHistoryByEnd(){return this._db.history.toArray().then(o=>o.filter(s=>s.ended===null)[0])}readHistory(o){return this._db.history.get({id:o})}editHistory(o){const i=Yr(o);return i.updated=new Date,this._db.history.put(i).then(()=>this._db.history.get({id:o.id}))}addHistory(){const o={id:crypto.randomUUID(),type:"history",created:new Date,updated:new Date,started:new Date,ended:null,notes:null};return this._db.history.add(o).then(()=>this._db.history.get({id:o.id}))}deleteHistory(o){return this._db.history.delete(o)}browseHunger(o=!1){return this._db.hunger.toArray().then(i=>o?(i.sort((s,c)=>s.created.getTime()<c.created.getTime()?1:s.created.getTime()>c.created.getTime()?-1:0),i.length===0?null:i[0]):i)}readHunger(o){return this._db.hunger.get({id:o})}editHunger(o){const i=Yr(o);return i.updated=new Date,this._db.hunger.put(i).then(()=>this._db.hunger.get({id:o.id}))}addHunger(o=5){const i={id:crypto.randomUUID(),type:"hunger",created:new Date,updated:new Date,level:o};return this._db.hunger.add(i).then(()=>this._db.hunger.get({id:i.id}))}deleteHunger(o){return this._db.hunger.delete(o)}browseWater(o=!1){return this._db.water.toArray().then(i=>{if(o){const s=new Date;s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0);const c=new Date(s.getTime());return c.setDate(c.getDate()+1),i.filter(d=>d.created.getTime()>s.getTime()&&d.created.getTime()<c.getTime())}else return i})}readWater(o){return this._db.water.get({id:o})}editWater(o){const i=Yr(o);return i.updated=new Date,this._db.water.put(i).then(()=>this._db.water.get({id:o.id}))}addWater(o){const i={id:crypto.randomUUID(),type:"water",created:new Date,updated:new Date,volume:o};return crypto.randomUUID(),this._db.water.add(i).then(()=>this._db.water.get({id:i.id}))}deleteWater(o){return this._db.water.delete(o)}}var Qr={exports:{}},ii;function vs(){return ii||(ii=1,function(r,o){(function(){var i=Math.PI,s=Math.sin,c=Math.cos,d=Math.tan,h=Math.asin,_=Math.atan2,D=Math.acos,E=i/180,M=1e3*60*60*24,j=2440588,C=2451545;function Y($){return $.valueOf()/M-.5+j}function B($){return new Date(($+.5-j)*M)}function N($){return Y($)-C}var J=E*23.4397;function z($,se){return _(s($)*c(J)-d(se)*s(J),c($))}function q($,se){return h(s(se)*c(J)+c(se)*s(J)*s($))}function F($,se,le){return _(s($),c($)*s(se)-d(le)*c(se))}function O($,se,le){return h(s(se)*s(le)+c(se)*c(le)*c($))}function H($,se){return E*(280.16+360.9856235*$)-se}function Q($){return $<0&&($=0),2967e-7/Math.tan($+.00312536/($+.08901179))}function R($){return E*(357.5291+.98560028*$)}function ue($){var se=E*(1.9148*s($)+.02*s(2*$)+3e-4*s(3*$)),le=E*102.9372;return $+se+le+i}function he($){var se=R($),le=ue(se);return{dec:q(le,0),ra:z(le,0)}}var ce={};ce.getPosition=function($,se,le){var Ae=E*-le,me=E*se,Te=N($),Se=he(Te),Ne=H(Te,Ae)-Se.ra;return{azimuth:F(Ne,me,Se.dec),altitude:O(Ne,me,Se.dec)}};var Ce=ce.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];ce.addTime=function($,se,le){Ce.push([$,se,le])};var Ke=9e-4;function Le($,se){return Math.round($-Ke-se/(2*i))}function Re($,se,le){return Ke+($+se)/(2*i)+le}function Ge($,se,le){return C+$+.0053*s(se)-.0069*s(2*le)}function Ye($,se,le){return D((s($)-s(se)*s(le))/(c(se)*c(le)))}function we($){return-2.076*Math.sqrt($)/60}function ve($,se,le,Ae,me,Te,Se){var Ne=Ye($,le,Ae),te=Re(Ne,se,me);return Ge(te,Te,Se)}ce.getTimes=function($,se,le,Ae){Ae=Ae||0;var me=E*-le,Te=E*se,Se=we(Ae),Ne=N($),te=Le(Ne,me),tt=Re(0,me,te),Je=R(tt),ge=ue(Je),ft=q(ge,0),dt=Ge(tt,Je,ge),et,Dt,ht,at,mt,ae,fe={solarNoon:B(dt),nadir:B(dt-.5)};for(et=0,Dt=Ce.length;et<Dt;et+=1)ht=Ce[et],at=(ht[0]+Se)*E,mt=ve(at,me,Te,ft,te,Je,ge),ae=dt-(mt-dt),fe[ht[1]]=B(ae),fe[ht[2]]=B(mt);return fe};function ze($){var se=E*(218.316+13.176396*$),le=E*(134.963+13.064993*$),Ae=E*(93.272+13.22935*$),me=se+E*6.289*s(le),Te=E*5.128*s(Ae),Se=385001-20905*c(le);return{ra:z(me,Te),dec:q(me,Te),dist:Se}}ce.getMoonPosition=function($,se,le){var Ae=E*-le,me=E*se,Te=N($),Se=ze(Te),Ne=H(Te,Ae)-Se.ra,te=O(Ne,me,Se.dec),tt=_(s(Ne),d(me)*c(Se.dec)-s(Se.dec)*c(Ne));return te=te+Q(te),{azimuth:F(Ne,me,Se.dec),altitude:te,distance:Se.dist,parallacticAngle:tt}},ce.getMoonIllumination=function($){var se=N($||new Date),le=he(se),Ae=ze(se),me=149598e3,Te=D(s(le.dec)*s(Ae.dec)+c(le.dec)*c(Ae.dec)*c(le.ra-Ae.ra)),Se=_(me*s(Te),Ae.dist-me*c(Te)),Ne=_(c(le.dec)*s(le.ra-Ae.ra),s(le.dec)*c(Ae.dec)-c(le.dec)*s(Ae.dec)*c(le.ra-Ae.ra));return{fraction:(1+c(Se))/2,phase:.5+.5*Se*(Ne<0?-1:1)/Math.PI,angle:Ne}};function Pe($,se){return new Date($.valueOf()+se*M/24)}ce.getMoonTimes=function($,se,le,Ae){var me=new Date($);Ae?me.setUTCHours(0,0,0,0):me.setHours(0,0,0,0);for(var Te=.133*E,Se=ce.getMoonPosition(me,se,le).altitude-Te,Ne,te,tt,Je,ge,ft,dt,et,Dt,ht,at,mt,ae,fe=1;fe<=24&&(Ne=ce.getMoonPosition(Pe(me,fe),se,le).altitude-Te,te=ce.getMoonPosition(Pe(me,fe+1),se,le).altitude-Te,ge=(Se+te)/2-Ne,ft=(te-Se)/2,dt=-ft/(2*ge),et=(ge*dt+ft)*dt+Ne,Dt=ft*ft-4*ge*Ne,ht=0,Dt>=0&&(ae=Math.sqrt(Dt)/(Math.abs(ge)*2),at=dt-ae,mt=dt+ae,Math.abs(at)<=1&&ht++,Math.abs(mt)<=1&&ht++,at<-1&&(at=mt)),ht===1?Se<0?tt=fe+at:Je=fe+at:ht===2&&(tt=fe+(et<0?mt:at),Je=fe+(et<0?at:mt)),!(tt&&Je));fe+=2)Se=te;var _e={};return tt&&(_e.rise=Pe(me,tt)),Je&&(_e.set=Pe(me,Je)),!tt&&!Je&&(_e[et>0?"alwaysUp":"alwaysDown"]=!0),_e},r.exports=ce})()}(Qr)),Qr.exports}var ps=vs();const gs=Pi(ps),Ai=/^[a-z0-9]+(-[a-z0-9]+)*$/,cr=(r,o,i,s="")=>{const c=r.split(":");if(r.slice(0,1)==="@"){if(c.length<2||c.length>3)return null;s=c.shift().slice(1)}if(c.length>3||!c.length)return null;if(c.length>1){const _=c.pop(),D=c.pop(),E={provider:c.length>0?c[0]:s,prefix:D,name:_};return o&&!or(E)?null:E}const d=c[0],h=d.split("-");if(h.length>1){const _={provider:s,prefix:h.shift(),name:h.join("-")};return o&&!or(_)?null:_}if(i&&s===""){const _={provider:s,prefix:"",name:d};return o&&!or(_,i)?null:_}return null},or=(r,o)=>r?!!((o&&r.prefix===""||r.prefix)&&r.name):!1,Ii=Object.freeze({left:0,top:0,width:16,height:16}),ur=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),fr=Object.freeze({...Ii,...ur}),no=Object.freeze({...fr,body:"",hidden:!1});function ys(r,o){const i={};!r.hFlip!=!o.hFlip&&(i.hFlip=!0),!r.vFlip!=!o.vFlip&&(i.vFlip=!0);const s=((r.rotate||0)+(o.rotate||0))%4;return s&&(i.rotate=s),i}function ai(r,o){const i=ys(r,o);for(const s in no)s in ur?s in r&&!(s in i)&&(i[s]=ur[s]):s in o?i[s]=o[s]:s in r&&(i[s]=r[s]);return i}function ms(r,o){const i=r.icons,s=r.aliases||Object.create(null),c=Object.create(null);function d(h){if(i[h])return c[h]=[];if(!(h in c)){c[h]=null;const _=s[h]&&s[h].parent,D=_&&d(_);D&&(c[h]=[_].concat(D))}return c[h]}return Object.keys(i).concat(Object.keys(s)).forEach(d),c}function bs(r,o,i){const s=r.icons,c=r.aliases||Object.create(null);let d={};function h(_){d=ai(s[_]||c[_],d)}return h(o),i.forEach(h),ai(r,d)}function Mi(r,o){const i=[];if(typeof r!="object"||typeof r.icons!="object")return i;r.not_found instanceof Array&&r.not_found.forEach(c=>{o(c,null),i.push(c)});const s=ms(r);for(const c in s){const d=s[c];d&&(o(c,bs(r,c,d)),i.push(c))}return i}const _s={provider:"",aliases:{},not_found:{},...Ii};function Gr(r,o){for(const i in o)if(i in r&&typeof r[i]!=typeof o[i])return!1;return!0}function ji(r){if(typeof r!="object"||r===null)return null;const o=r;if(typeof o.prefix!="string"||!r.icons||typeof r.icons!="object"||!Gr(r,_s))return null;const i=o.icons;for(const c in i){const d=i[c];if(!c||typeof d.body!="string"||!Gr(d,no))return null}const s=o.aliases||Object.create(null);for(const c in s){const d=s[c],h=d.parent;if(!c||typeof h!="string"||!i[h]&&!s[h]||!Gr(d,no))return null}return o}const si=Object.create(null);function ws(r,o){return{provider:r,prefix:o,icons:Object.create(null),missing:new Set}}function hn(r,o){const i=si[r]||(si[r]=Object.create(null));return i[o]||(i[o]=ws(r,o))}function Ki(r,o){return ji(o)?Mi(o,(i,s)=>{s?r.icons[i]=s:r.missing.add(i)}):[]}function xs(r,o,i){try{if(typeof i.body=="string")return r.icons[o]={...i},!0}catch{}return!1}let Cn=!1;function Fi(r){return typeof r=="boolean"&&(Cn=r),Cn}function ks(r){const o=typeof r=="string"?cr(r,!0,Cn):r;if(o){const i=hn(o.provider,o.prefix),s=o.name;return i.icons[s]||(i.missing.has(s)?null:void 0)}}function Ss(r,o){const i=cr(r,!0,Cn);if(!i)return!1;const s=hn(i.provider,i.prefix);return o?xs(s,i.name,o):(s.missing.add(i.name),!0)}function Ds(r,o){if(typeof r!="object")return!1;if(typeof o!="string"&&(o=r.provider||""),Cn&&!o&&!r.prefix){let c=!1;return ji(r)&&(r.prefix="",Mi(r,(d,h)=>{Ss(d,h)&&(c=!0)})),c}const i=r.prefix;if(!or({prefix:i,name:"a"}))return!1;const s=hn(o,i);return!!Ki(s,r)}const qi=Object.freeze({width:null,height:null}),Ri=Object.freeze({...qi,...ur}),Ts=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Es=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ui(r,o,i){if(o===1)return r;if(i=i||100,typeof r=="number")return Math.ceil(r*o*i)/i;if(typeof r!="string")return r;const s=r.split(Ts);if(s===null||!s.length)return r;const c=[];let d=s.shift(),h=Es.test(d);for(;;){if(h){const _=parseFloat(d);isNaN(_)?c.push(d):c.push(Math.ceil(_*o*i)/i)}else c.push(d);if(d=s.shift(),d===void 0)return c.join("");h=!h}}function Os(r,o="defs"){let i="";const s=r.indexOf("<"+o);for(;s>=0;){const c=r.indexOf(">",s),d=r.indexOf("</"+o);if(c===-1||d===-1)break;const h=r.indexOf(">",d);if(h===-1)break;i+=r.slice(c+1,d).trim(),r=r.slice(0,s).trim()+r.slice(h+1)}return{defs:i,content:r}}function Cs(r,o){return r?"<defs>"+r+"</defs>"+o:o}function Ps(r,o,i){const s=Os(r);return Cs(s.defs,o+s.content+i)}const As=r=>r==="unset"||r==="undefined"||r==="none";function Is(r,o){const i={...fr,...r},s={...Ri,...o},c={left:i.left,top:i.top,width:i.width,height:i.height};let d=i.body;[i,s].forEach(N=>{const J=[],z=N.hFlip,q=N.vFlip;let F=N.rotate;z?q?F+=2:(J.push("translate("+(c.width+c.left).toString()+" "+(0-c.top).toString()+")"),J.push("scale(-1 1)"),c.top=c.left=0):q&&(J.push("translate("+(0-c.left).toString()+" "+(c.height+c.top).toString()+")"),J.push("scale(1 -1)"),c.top=c.left=0);let O;switch(F<0&&(F-=Math.floor(F/4)*4),F=F%4,F){case 1:O=c.height/2+c.top,J.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:J.unshift("rotate(180 "+(c.width/2+c.left).toString()+" "+(c.height/2+c.top).toString()+")");break;case 3:O=c.width/2+c.left,J.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}F%2===1&&(c.left!==c.top&&(O=c.left,c.left=c.top,c.top=O),c.width!==c.height&&(O=c.width,c.width=c.height,c.height=O)),J.length&&(d=Ps(d,'<g transform="'+J.join(" ")+'">',"</g>"))});const h=s.width,_=s.height,D=c.width,E=c.height;let M,j;h===null?(j=_===null?"1em":_==="auto"?E:_,M=ui(j,D/E)):(M=h==="auto"?D:h,j=_===null?ui(M,E/D):_==="auto"?E:_);const C={},Y=(N,J)=>{As(J)||(C[N]=J.toString())};Y("width",M),Y("height",j);const B=[c.left,c.top,D,E];return C.viewBox=B.join(" "),{attributes:C,viewBox:B,body:d}}const Ms=/\sid="(\S+)"/g,js="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Ks=0;function Fs(r,o=js){const i=[];let s;for(;s=Ms.exec(r);)i.push(s[1]);if(!i.length)return r;const c="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(d=>{const h=typeof o=="function"?o(d):o+(Ks++).toString(),_=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=r.replace(new RegExp('([#;"])('+_+')([")]|\\.[a-z])',"g"),"$1"+h+c+"$3")}),r=r.replace(new RegExp(c,"g"),""),r}const ro=Object.create(null);function qs(r,o){ro[r]=o}function oo(r){return ro[r]||ro[""]}function ho(r){let o;if(typeof r.resources=="string")o=[r.resources];else if(o=r.resources,!(o instanceof Array)||!o.length)return null;return{resources:o,path:r.path||"/",maxURL:r.maxURL||500,rotate:r.rotate||750,timeout:r.timeout||5e3,random:r.random===!0,index:r.index||0,dataAfterTimeout:r.dataAfterTimeout!==!1}}const vo=Object.create(null),Dn=["https://api.simplesvg.com","https://api.unisvg.com"],ir=[];for(;Dn.length>0;)Dn.length===1||Math.random()>.5?ir.push(Dn.shift()):ir.push(Dn.pop());vo[""]=ho({resources:["https://api.iconify.design"].concat(ir)});function Rs(r,o){const i=ho(o);return i===null?!1:(vo[r]=i,!0)}function po(r){return vo[r]}const Ns=()=>{let r;try{if(r=fetch,typeof r=="function")return r}catch{}};let li=Ns();function Bs(r,o){const i=po(r);if(!i)return 0;let s;if(!i.maxURL)s=0;else{let c=0;i.resources.forEach(h=>{c=Math.max(c,h.length)});const d=o+".json?icons=";s=i.maxURL-c-i.path.length-d.length}return s}function Hs(r){return r===404}const Ls=(r,o,i)=>{const s=[],c=Bs(r,o),d="icons";let h={type:d,provider:r,prefix:o,icons:[]},_=0;return i.forEach((D,E)=>{_+=D.length+1,_>=c&&E>0&&(s.push(h),h={type:d,provider:r,prefix:o,icons:[]},_=D.length),h.icons.push(D)}),s.push(h),s};function zs(r){if(typeof r=="string"){const o=po(r);if(o)return o.path}return"/"}const Us=(r,o,i)=>{if(!li){i("abort",424);return}let s=zs(o.provider);switch(o.type){case"icons":{const d=o.prefix,_=o.icons.join(","),D=new URLSearchParams({icons:_});s+=d+".json?"+D.toString();break}case"custom":{const d=o.uri;s+=d.slice(0,1)==="/"?d.slice(1):d;break}default:i("abort",400);return}let c=503;li(r+s).then(d=>{const h=d.status;if(h!==200){setTimeout(()=>{i(Hs(h)?"abort":"next",h)});return}return c=501,d.json()}).then(d=>{if(typeof d!="object"||d===null){setTimeout(()=>{d===404?i("abort",d):i("next",c)});return}setTimeout(()=>{i("success",d)})}).catch(()=>{i("next",c)})},Ys={prepare:Ls,send:Us};function Vs(r){const o={loaded:[],missing:[],pending:[]},i=Object.create(null);r.sort((c,d)=>c.provider!==d.provider?c.provider.localeCompare(d.provider):c.prefix!==d.prefix?c.prefix.localeCompare(d.prefix):c.name.localeCompare(d.name));let s={provider:"",prefix:"",name:""};return r.forEach(c=>{if(s.name===c.name&&s.prefix===c.prefix&&s.provider===c.provider)return;s=c;const d=c.provider,h=c.prefix,_=c.name,D=i[d]||(i[d]=Object.create(null)),E=D[h]||(D[h]=hn(d,h));let M;_ in E.icons?M=o.loaded:h===""||E.missing.has(_)?M=o.missing:M=o.pending;const j={provider:d,prefix:h,name:_};M.push(j)}),o}function Ni(r,o){r.forEach(i=>{const s=i.loaderCallbacks;s&&(i.loaderCallbacks=s.filter(c=>c.id!==o))})}function Ws(r){r.pendingCallbacksFlag||(r.pendingCallbacksFlag=!0,setTimeout(()=>{r.pendingCallbacksFlag=!1;const o=r.loaderCallbacks?r.loaderCallbacks.slice(0):[];if(!o.length)return;let i=!1;const s=r.provider,c=r.prefix;o.forEach(d=>{const h=d.icons,_=h.pending.length;h.pending=h.pending.filter(D=>{if(D.prefix!==c)return!0;const E=D.name;if(r.icons[E])h.loaded.push({provider:s,prefix:c,name:E});else if(r.missing.has(E))h.missing.push({provider:s,prefix:c,name:E});else return i=!0,!0;return!1}),h.pending.length!==_&&(i||Ni([r],d.id),d.callback(h.loaded.slice(0),h.missing.slice(0),h.pending.slice(0),d.abort))})}))}let Qs=0;function Gs(r,o,i){const s=Qs++,c=Ni.bind(null,i,s);if(!o.pending.length)return c;const d={id:s,icons:o,callback:r,abort:c};return i.forEach(h=>{(h.loaderCallbacks||(h.loaderCallbacks=[])).push(d)}),c}function Js(r,o=!0,i=!1){const s=[];return r.forEach(c=>{const d=typeof c=="string"?cr(c,o,i):c;d&&s.push(d)}),s}var Xs={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Zs(r,o,i,s){const c=r.resources.length,d=r.random?Math.floor(Math.random()*c):r.index;let h;if(r.random){let Q=r.resources.slice(0);for(h=[];Q.length>1;){const R=Math.floor(Math.random()*Q.length);h.push(Q[R]),Q=Q.slice(0,R).concat(Q.slice(R+1))}h=h.concat(Q)}else h=r.resources.slice(d).concat(r.resources.slice(0,d));const _=Date.now();let D="pending",E=0,M,j=null,C=[],Y=[];typeof s=="function"&&Y.push(s);function B(){j&&(clearTimeout(j),j=null)}function N(){D==="pending"&&(D="aborted"),B(),C.forEach(Q=>{Q.status==="pending"&&(Q.status="aborted")}),C=[]}function J(Q,R){R&&(Y=[]),typeof Q=="function"&&Y.push(Q)}function z(){return{startTime:_,payload:o,status:D,queriesSent:E,queriesPending:C.length,subscribe:J,abort:N}}function q(){D="failed",Y.forEach(Q=>{Q(void 0,M)})}function F(){C.forEach(Q=>{Q.status==="pending"&&(Q.status="aborted")}),C=[]}function O(Q,R,ue){const he=R!=="success";switch(C=C.filter(ce=>ce!==Q),D){case"pending":break;case"failed":if(he||!r.dataAfterTimeout)return;break;default:return}if(R==="abort"){M=ue,q();return}if(he){M=ue,C.length||(h.length?H():q());return}if(B(),F(),!r.random){const ce=r.resources.indexOf(Q.resource);ce!==-1&&ce!==r.index&&(r.index=ce)}D="completed",Y.forEach(ce=>{ce(ue)})}function H(){if(D!=="pending")return;B();const Q=h.shift();if(Q===void 0){if(C.length){j=setTimeout(()=>{B(),D==="pending"&&(F(),q())},r.timeout);return}q();return}const R={status:"pending",resource:Q,callback:(ue,he)=>{O(R,ue,he)}};C.push(R),E++,j=setTimeout(H,r.rotate),i(Q,o,R.callback)}return setTimeout(H),z}function Bi(r){const o={...Xs,...r};let i=[];function s(){i=i.filter(_=>_().status==="pending")}function c(_,D,E){const M=Zs(o,_,D,(j,C)=>{s(),E&&E(j,C)});return i.push(M),M}function d(_){return i.find(D=>_(D))||null}return{query:c,find:d,setIndex:_=>{o.index=_},getIndex:()=>o.index,cleanup:s}}function ci(){}const Jr=Object.create(null);function $s(r){if(!Jr[r]){const o=po(r);if(!o)return;const i=Bi(o),s={config:o,redundancy:i};Jr[r]=s}return Jr[r]}function eu(r,o,i){let s,c;if(typeof r=="string"){const d=oo(r);if(!d)return i(void 0,424),ci;c=d.send;const h=$s(r);h&&(s=h.redundancy)}else{const d=ho(r);if(d){s=Bi(d);const h=r.resources?r.resources[0]:"",_=oo(h);_&&(c=_.send)}}return!s||!c?(i(void 0,424),ci):s.query(o,c,i)().abort}function fi(){}function tu(r){r.iconsLoaderFlag||(r.iconsLoaderFlag=!0,setTimeout(()=>{r.iconsLoaderFlag=!1,Ws(r)}))}function nu(r){const o=[],i=[];return r.forEach(s=>{(s.match(Ai)?o:i).push(s)}),{valid:o,invalid:i}}function Tn(r,o,i){function s(){const c=r.pendingIcons;o.forEach(d=>{c&&c.delete(d),r.icons[d]||r.missing.add(d)})}if(i&&typeof i=="object")try{if(!Ki(r,i).length){s();return}}catch(c){console.error(c)}s(),tu(r)}function di(r,o){r instanceof Promise?r.then(i=>{o(i)}).catch(()=>{o(null)}):o(r)}function ru(r,o){r.iconsToLoad?r.iconsToLoad=r.iconsToLoad.concat(o).sort():r.iconsToLoad=o,r.iconsQueueFlag||(r.iconsQueueFlag=!0,setTimeout(()=>{r.iconsQueueFlag=!1;const{provider:i,prefix:s}=r,c=r.iconsToLoad;if(delete r.iconsToLoad,!c||!c.length)return;const d=r.loadIcon;if(r.loadIcons&&(c.length>1||!d)){di(r.loadIcons(c,s,i),M=>{Tn(r,c,M)});return}if(d){c.forEach(M=>{const j=d(M,s,i);di(j,C=>{const Y=C?{prefix:s,icons:{[M]:C}}:null;Tn(r,[M],Y)})});return}const{valid:h,invalid:_}=nu(c);if(_.length&&Tn(r,_,null),!h.length)return;const D=s.match(Ai)?oo(i):null;if(!D){Tn(r,h,null);return}D.prepare(i,s,h).forEach(M=>{eu(i,M,j=>{Tn(r,M.icons,j)})})}))}const ou=(r,o)=>{const i=Js(r,!0,Fi()),s=Vs(i);if(!s.pending.length){let D=!0;return o&&setTimeout(()=>{D&&o(s.loaded,s.missing,s.pending,fi)}),()=>{D=!1}}const c=Object.create(null),d=[];let h,_;return s.pending.forEach(D=>{const{provider:E,prefix:M}=D;if(M===_&&E===h)return;h=E,_=M,d.push(hn(E,M));const j=c[E]||(c[E]=Object.create(null));j[M]||(j[M]=[])}),s.pending.forEach(D=>{const{provider:E,prefix:M,name:j}=D,C=hn(E,M),Y=C.pendingIcons||(C.pendingIcons=new Set);Y.has(j)||(Y.add(j),c[E][M].push(j))}),d.forEach(D=>{const E=c[D.provider][D.prefix];E.length&&ru(D,E)}),o?Gs(o,s,d):fi};function iu(r,o){const i={...r};for(const s in o){const c=o[s],d=typeof c;s in qi?(c===null||c&&(d==="string"||d==="number"))&&(i[s]=c):d===typeof i[s]&&(i[s]=s==="rotate"?c%4:c)}return i}const au=/[\s,]+/;function su(r,o){o.split(au).forEach(i=>{switch(i.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}function uu(r,o=0){const i=r.replace(/^-?[0-9.]*/,"");function s(c){for(;c<0;)c+=4;return c%4}if(i===""){const c=parseInt(r);return isNaN(c)?0:s(c)}else if(i!==r){let c=0;switch(i){case"%":c=25;break;case"deg":c=90}if(c){let d=parseFloat(r.slice(0,r.length-i.length));return isNaN(d)?0:(d=d/c,d%1===0?s(d):0)}}return o}function lu(r,o){let i=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in o)i+=" "+s+'="'+o[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+r+"</svg>"}function cu(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function fu(r){return"data:image/svg+xml,"+cu(r)}function du(r){return'url("'+fu(r)+'")'}const hi={...Ri,inline:!1},hu={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},vu={display:"inline-block"},io={"background-color":"currentColor"},Hi={"background-color":"transparent"},vi={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},pi={"-webkit-mask":io,mask:io,background:Hi};for(const r in pi){const o=pi[r];for(const i in vi)o[r+"-"+i]=vi[i]}function pu(r){return r+(r.match(/^[-0-9.]+$/)?"px":"")}function gu(r,o){const i=iu(hi,o),s=o.mode||"svg",c=s==="svg"?{...hu}:{};r.body.indexOf("xlink:")===-1&&delete c["xmlns:xlink"];let d=typeof o.style=="string"?o.style:"";for(let z in o){const q=o[z];if(q!==void 0)switch(z){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":i[z]=q===!0||q==="true"||q===1;break;case"flip":typeof q=="string"&&su(i,q);break;case"color":d=d+(d.length>0&&d.trim().slice(-1)!==";"?";":"")+"color: "+q+"; ";break;case"rotate":typeof q=="string"?i[z]=uu(q):typeof q=="number"&&(i[z]=q);break;case"ariaHidden":case"aria-hidden":q!==!0&&q!=="true"&&delete c["aria-hidden"];break;default:if(z.slice(0,3)==="on:")break;hi[z]===void 0&&(c[z]=q)}}const h=Is(r,i),_=h.attributes;if(i.inline&&(d="vertical-align: -0.125em; "+d),s==="svg"){Object.assign(c,_),d!==""&&(c.style=d);let z=0,q=o.id;return typeof q=="string"&&(q=q.replace(/-/g,"_")),{svg:!0,attributes:c,body:Fs(h.body,q?()=>q+"ID"+z++:"iconifySvelte")}}const{body:D,width:E,height:M}=r,j=s==="mask"||(s==="bg"?!1:D.indexOf("currentColor")!==-1),C=lu(D,{..._,width:E+"",height:M+""}),B={"--svg":du(C)},N=z=>{const q=_[z];q&&(B[z]=pu(q))};N("width"),N("height"),Object.assign(B,vu,j?io:Hi);let J="";for(const z in B)J+=z+": "+B[z]+";";return c.style=J+d,{svg:!1,attributes:c}}Fi(!0);qs("",Ys);if(typeof document<"u"&&typeof window<"u"){const r=window;if(r.IconifyPreload!==void 0){const o=r.IconifyPreload,i="Invalid IconifyPreload syntax.";typeof o=="object"&&o!==null&&(o instanceof Array?o:[o]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!Ds(s))&&console.error(i)}catch{console.error(i)}})}if(r.IconifyProviders!==void 0){const o=r.IconifyProviders;if(typeof o=="object"&&o!==null)for(let i in o){const s="IconifyProviders["+i+"] is invalid.";try{const c=o[i];if(typeof c!="object"||!c||c.resources===void 0)continue;Rs(i,c)||console.error(s)}catch{console.error(s)}}}}function yu(r,o,i,s,c){function d(){o.loading&&(o.loading.abort(),o.loading=null)}if(typeof r=="object"&&r!==null&&typeof r.body=="string")return o.name="",d(),{data:{...fr,...r}};let h;if(typeof r!="string"||(h=cr(r,!1,!0))===null)return d(),null;const _=ks(h);if(!_)return i&&(!o.loading||o.loading.name!==r)&&(d(),o.name="",o.loading={name:r,abort:ou([h],s)}),null;d(),o.name!==r&&(o.name=r,c&&!o.destroyed&&c(r));const D=["iconify"];return h.prefix!==""&&D.push("iconify--"+h.prefix),h.provider!==""&&D.push("iconify--"+h.provider),{data:_,classes:D}}function mu(r,o){return r?gu({...fr,...r},o):null}var bu=Ya("<svg><!></svg>"),_u=Oe("<span></span>");function wt(r,o){gt(o,!0);const i={name:"",loading:null,destroyed:!1},s=Va(o,["$$slots","$$events","$$legacy"]);let c=qe(!1),d=qe(0),h=qe(null);za(()=>{I(d);const j=!!o.ssr||I(c),C=yu(o.icon,i,j,_,o.onload),Y=C?mu(C.data,s):null;Y&&C.classes&&(Y.attributes.class=(typeof s.class=="string"?s.class+" ":"")+C.classes.join(" ")),de(h,Y,!0)});function _(){Ua(d)}ao(()=>{de(c,!0)}),ma(()=>{i.destroyed=!0,i.loading&&(i.loading.abort(),i.loading=null)});var D=On(),E=kt(D);{var M=j=>{var C=On(),Y=kt(C);{var B=J=>{var z=bu();ti(z,()=>({...I(h).attributes}));var q=U(z);$a(q,()=>I(h).body,!0),L(z),be(J,z)},N=J=>{var z=_u();ti(z,()=>({...I(h).attributes})),be(J,z)};pt(Y,J=>{I(h).svg?J(B):J(N,!1)})}be(j,C)};pt(E,j=>{I(h)&&j(M)})}be(r,D),yt()}var wu=Oe('<div class="hour svelte-121ng2g"></div>'),xu=Oe('<div class="day svelte-121ng2g"><!></div>'),ku=Oe('<p class="day svelte-121ng2g"> </p> <!>',1),Su=Oe('<div class="day svelte-121ng2g"><div class="hour svelte-121ng2g"></div></div>'),Du=Oe('<div class="daynight svelte-121ng2g"><!> <p class="svelte-121ng2g"> </p></div>'),Tu=Oe('<figure class="svelte-121ng2g"><div class="labels svelte-121ng2g"><p class="date svelte-121ng2g">Date</p> <p class="hour svelte-121ng2g">0</p> <p class="hour svelte-121ng2g">12</p> <p class="hour svelte-121ng2g">24</p></div> <div class="grid svelte-121ng2g"><!></div> <div class="average grid svelte-121ng2g"><p class="day svelte-121ng2g">Avg</p> <!></div> <legend class="svelte-121ng2g"><!> <div class="color svelte-121ng2g"></div> <p class="svelte-121ng2g">Fasting</p></legend></figure>');function Li(r,o){gt(o,!0);let i=je(o,"average",19,()=>[]),s=je(o,"daily",3,null);je(o,"days",3,10);const c=gs;let d=qe(null),h=qe(null);ao(()=>{setInterval(()=>{window.localStorage.getItem("fh_latitude")!==null&&_()},6e4),window.localStorage.getItem("fh_latitude")===null?confirm("Sunrise/set (important for religious observations) needs to know your location? Enable location detection (once only)?")&&navigator.geolocation.getCurrentPosition(Q=>{window.localStorage.setItem("fh_latitude",Q.coords.latitude),window.localStorage.setItem("fh_longitude",Q.coords.longitude),_()},Q=>{console.log(Q)}):_()});function _(){const O=parseFloat(window.localStorage.getItem("fh_latitude")),H=parseFloat(window.localStorage.getItem("fh_longitude")),Q=new Date;let R=c.getTimes(Q,O,H);if(Date.now()<R.sunrise.getTime())de(h,new Date(R.sunrise.getTime()),!0),de(d,"material-symbols:wb-sunny-outline-rounded");else if(Date.now()>R.sunrise.getTime()&&Date.now()<R.sunset.getTime())de(h,new Date(R.sunset.getTime()),!0),de(d,"material-symbols:moon-stars-outline-rounded");else{const ue=new Date;ue.setDate(Q.getDate()+1),R=c.getTimes(ue,O,H),de(h,new Date(R.sunrise.getTime()),!0),de(d,"material-symbols:wb-sunny-outline-rounded")}}function D(O){return O=new Date(O+"T00:00:00"),new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric"}).format(O)}function E(O){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(O)}function M(O,H){return O===0||H[O-1]===0?(1-H[O])*100+"%":0}var j=Tu(),C=re(U(j),2),Y=U(C);{var B=O=>{var H=On(),Q=kt(H);Zt(Q,17,()=>Object.keys(s()),Xt,(R,ue)=>{var he=ku();const ce=it(()=>s()[I(ue)]);var Ce=kt(he),Ke=U(Ce,!0);L(Ce);var Le=re(Ce,2);Zt(Le,16,()=>({length:24}),Xt,(Re,Ge,Ye)=>{var we=xu(),ve=U(we);{var ze=Pe=>{var $=wu();let se;We(le=>se=$r($,"",se,le),[()=>({"margin-left":M(Ye,I(ce)),width:100*I(ce)[Ye]+"%"})]),be(Pe,$)};pt(ve,Pe=>{I(ce)[Ye]!==0&&Pe(ze)})}L(we),be(Re,we)}),We(Re=>Ee(Ke,Re),[()=>D(I(ue))]),be(R,he)}),be(O,H)};pt(Y,O=>{s()!==null&&O(B)})}L(C);var N=re(C,2),J=re(U(N),2);Zt(J,16,()=>({length:24}),Xt,(O,H,Q)=>{var R=Su(),ue=U(R);let he;L(R),We(ce=>he=$r(ue,"",he,ce),[()=>({opacity:i()[Q],width:"100%"})]),be(O,R)}),L(N);var z=re(N,2),q=U(z);{var F=O=>{var H=Du(),Q=U(H);wt(Q,{color:"#161616",height:"16",get icon(){return I(d)},width:"16"});var R=re(Q,2),ue=U(R,!0);L(R),L(H),We(he=>Ee(ue,he),[()=>E(I(h))]),be(O,H)};pt(q,O=>{I(d)!==null&&O(F)})}er(4),L(z),L(j),be(r,j),yt()}var Eu=Oe('<article class="svelte-10tx4k0"><p class="svelte-10tx4k0"><span class="svelte-10tx4k0"> </span> <span class="units svelte-10tx4k0">hrs</span></p> <p class="colon svelte-10tx4k0">:</p> <p class="svelte-10tx4k0"><span class="svelte-10tx4k0"> </span> <span class="units svelte-10tx4k0">min</span></p> <p class="colon svelte-10tx4k0">:</p> <p class="svelte-10tx4k0"><span class="svelte-10tx4k0"> </span> <span class="units svelte-10tx4k0">sec</span></p></article>');function Ou(r,o){gt(o,!0);let i=je(o,"now",3,null),s=je(o,"started",3,null),c=it(()=>{if(s()===null)return{hours:0,minutes:"00",seconds:"00"};const N=Math.floor((i()-s().getTime())/1e3);return{hours:Math.floor(N/3600).toString(10).padStart(2,"0"),minutes:Math.floor(N%3600/60).toString(10).padStart(2,"0"),seconds:(N%60).toString(10).padStart(2,"0")}});var d=Eu(),h=U(d),_=U(h),D=U(_,!0);L(_),er(2),L(h);var E=re(h,4),M=U(E),j=U(M,!0);L(M),er(2),L(E);var C=re(E,4),Y=U(C),B=U(Y,!0);L(Y),er(2),L(C),L(d),We(()=>{Ee(D,I(c).hours),Ee(j,I(c).minutes),Ee(B,I(c).seconds)}),be(r,d),yt()}function Cu(r,o,i){o()===null?i.onstart&&i.onstart():i.onend&&i.onend()}var Pu=Oe('<p class="svelte-81vq7f">You are not fasting.</p>'),Au=Oe('<p class="svelte-81vq7f">You are fasting.</p> <!> <p class="started svelte-81vq7f"> </p>',1),Iu=Oe('<section class="svelte-81vq7f"><header class="svelte-81vq7f"><h3 class="svelte-81vq7f">Fasting</h3> <button type="button" class="svelte-81vq7f"><!></button></header> <article class="svelte-81vq7f"><!> <button class="primary svelte-81vq7f" type="button"> </button></article> <article class="svelte-81vq7f"><!></article> <footer class="svelte-81vq7f"><button class="hunger secondary svelte-81vq7f" type="button"><!> <span> </span></button> <button class="water secondary svelte-81vq7f" type="button"><!> <span> </span></button></footer></section>');function Mu(r,o){gt(o,!0);let i=je(o,"activity",3,null),s=je(o,"hunger",3,5),c=je(o,"levels",19,()=>[]),d=je(o,"now",3,null),h=je(o,"started",3,null),_=je(o,"water",3,0);function D(we){return c().find(ze=>ze.value===we).label}function E(we){return we===null?null:new Intl.DateTimeFormat(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(we)}var M=Iu(),j=U(M),C=re(U(j),2);C.__click=function(...we){var ve;(ve=o.onsettings)==null||ve.apply(this,we)};var Y=U(C);wt(Y,{height:"20",icon:"material-symbols:settings-outline",width:"20"}),L(C),L(j);var B=re(j,2),N=U(B);{var J=we=>{var ve=Pu();be(we,ve)},z=we=>{var ve=Au(),ze=re(kt(ve),2);Ou(ze,{get now(){return d()},get started(){return h()}});var Pe=re(ze,2),$=U(Pe);L(Pe),We(se=>Ee($,`Started ${se??""}`),[()=>E(h())]),be(we,ve)};pt(N,we=>{h()===null?we(J):we(z,!1)})}var q=re(N,2);q.__click=[Cu,h,o];var F=U(q);L(q),L(B);var O=re(B,2),H=U(O);const Q=it(()=>i()===null?[]:i().average),R=it(()=>i()===null?null:i().daily);Li(H,{get average(){return I(Q)},get daily(){return I(R)},days:7}),L(O);var ue=re(O,2),he=U(ue);he.__click=function(...we){var ve;(ve=o.onhunger)==null||ve.apply(this,we)};var ce=U(he);wt(ce,{height:"20",icon:"material-symbols:fork-spoon-rounded",width:"20"});var Ce=re(ce,2),Ke=U(Ce,!0);L(Ce),L(he);var Le=re(he,2);Le.__click=function(...we){var ve;(ve=o.onwater)==null||ve.apply(this,we)};var Re=U(Le);wt(Re,{height:"20",icon:"material-symbols:water-drop-outline-rounded",width:"20"});var Ge=re(Re,2),Ye=U(Ge);L(Ge),L(Le),L(ue),L(M),We(we=>{Ee(F,`${h()===null?"Start":"Stop"} fasting`),Ee(Ke,we),Ee(Ye,`${_()??""} oz`)},[()=>D(s())]),be(r,M),yt()}St(["click"]);function ju(r,o,i,s){const c=new Date(parseInt(r.currentTarget.getAttribute("data-year")),parseInt(r.currentTarget.getAttribute("data-month")),parseInt(r.currentTarget.getAttribute("data-date")));c.getMonth()!==o().getMonth()&&o(new Date(c.getTime())),i(new Date(c.getTime())),s.onchange&&s.onchange(i())}var Ku=Oe('<button type="button"> </button>'),Fu=Oe('<section><header class="svelte-1ll096s"><h3 class="svelte-1ll096s"> </h3> <button type="button" class="svelte-1ll096s"><!></button> <button type="button" class="svelte-1ll096s"><!></button></header> <article class="svelte-1ll096s"><p class="svelte-1ll096s">Sun</p> <p class="svelte-1ll096s">Mon</p> <p class="svelte-1ll096s">Tue</p> <p class="svelte-1ll096s">Wed</p> <p class="svelte-1ll096s">Thu</p> <p class="svelte-1ll096s">Fri</p> <p class="svelte-1ll096s">Sat</p></article> <article class="svelte-1ll096s"></article></section>');function qu(r,o){gt(o,!0);let i=je(o,"display",23,()=>new Date),s=je(o,"value",23,()=>new Date),c=it(()=>new Intl.DateTimeFormat(navigator.language,{month:"long",year:"numeric"}).format(i())),d=it(()=>{const z=[],q=new Date,F=new Date(i().getFullYear(),i().getMonth(),1);F.setDate(F.getDate()-F.getDay());for(let O=0;O<42;O++){const H={date:F.getDate(),month:F.getMonth(),year:F.getFullYear(),outside:!0,today:!1,selected:!1,after:!1};F.getFullYear()===i().getFullYear()&&F.getMonth()===i().getMonth()&&(H.outside=!1),F.getTime()>Date.now()&&(H.after=!0),F.getFullYear()===q.getFullYear()&&F.getMonth()===q.getMonth()&&F.getDate()===q.getDate()&&(H.today=!0),F.getFullYear()===s().getFullYear()&&F.getMonth()===s().getMonth()&&F.getDate()===s().getDate()&&(H.selected=!0),F.setDate(F.getDate()+1),z.push(H)}return z});function h(){let z=i().getMonth(),q=i().getFullYear();q=z===0?q-1:q,z=z===0?11:z-1,i(new Date(q,z,i().getDate()))}function _(){let z=i().getMonth(),q=i().getFullYear();q=z===11?q+1:q,z=(z+1)%12,i(new Date(q,z,i().getDate()))}var D=Fu(),E=U(D),M=U(E),j=U(M,!0);L(M);var C=re(M,2);C.__click=h;var Y=U(C);wt(Y,{height:"24",icon:"material-symbols:navigate-before",width:"24"}),L(C);var B=re(C,2);B.__click=_;var N=U(B);wt(N,{height:"24",icon:"material-symbols:navigate-next",width:"24"}),L(B),L(E);var J=re(E,4);Zt(J,21,()=>I(d),Xt,(z,q)=>{var F=Ku();F.__click=[ju,i,s,o];let O;var H=U(F,!0);L(F),We(Q=>{dn(F,"data-year",I(q).year),dn(F,"data-month",I(q).month),dn(F,"data-date",I(q).date),F.disabled=I(q).after,O=Lt(F,1,"svelte-1ll096s",null,O,Q),Ee(H,I(q).date)},[()=>({outside:I(q).outside,today:I(q).today,selected:I(q).selected})]),be(z,F)}),L(J),L(D),We(()=>Ee(j,I(c))),be(r,D),yt()}St(["click"]);function Ru(r,o,i){const s=new Date(o().getTime());s.getHours()>=12?s.getHours()===12?s.setHours(23):s.setHours(s.getHours()-1):s.getHours()===0?s.setHours(11):s.setHours(s.getHours()-1),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}function Nu(r,o,i){const s=new Date(o().getTime());s.getHours()>=12?s.getHours()===23?s.setHours(12):s.setHours(s.getHours()+1):s.getHours()===11?s.setHours(0):s.setHours(s.getHours()+1),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}function Bu(r,o,i){const s=new Date(o().getTime());s.getHours()>=12&&s.setHours(s.getHours()-12),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}function Hu(r,o,i){const s=new Date(o().getTime());s.getHours()<12&&s.setHours(s.getHours()+12),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}function Lu(r,o,i){const s=new Date(o().getTime());s.getMinutes()===0?s.setMinutes(59):s.setMinutes(s.getMinutes()-1),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}function zu(r,o,i){const s=new Date(o().getTime());s.getMinutes()===59?s.setMinutes(0):s.setMinutes(s.getMinutes()+1),o(new Date(s.getTime())),i.onchange&&i.onchange(o())}var Uu=Oe('<article class="svelte-1bevvpj"><div class="time svelte-1bevvpj"><div class="dial svelte-1bevvpj"><button type="button" class="svelte-1bevvpj"><!></button> <p class="svelte-1bevvpj"> </p> <button type="button" class="svelte-1bevvpj"><!></button></div> <p class="svelte-1bevvpj">:</p> <div class="dial svelte-1bevvpj"><button type="button" class="svelte-1bevvpj"><!></button> <p class="svelte-1bevvpj"> </p> <button type="button" class="svelte-1bevvpj"><!></button></div></div> <div class="meridian svelte-1bevvpj"><button type="button">AM</button> <button type="button">PM</button></div></article>');function Yu(r,o){gt(o,!0);let i=je(o,"value",23,()=>new Date),s=it(()=>i().getHours()%12||12),c=it(()=>i().getMinutes().toString(10).padStart(2,"0")),d=it(()=>i().getHours()>=12?"PM":"AM");var h=Uu(),_=U(h),D=U(_),E=U(D);E.__click=[Nu,i,o];var M=U(E);wt(M,{height:"24",icon:"material-symbols:keyboard-arrow-up-rounded",width:"24"}),L(E);var j=re(E,2),C=U(j,!0);L(j);var Y=re(j,2);Y.__click=[Ru,i,o];var B=U(Y);wt(B,{height:"24",icon:"material-symbols:keyboard-arrow-down-rounded",width:"24"}),L(Y),L(D);var N=re(D,4),J=U(N);J.__click=[zu,i,o];var z=U(J);wt(z,{height:"24",icon:"material-symbols:keyboard-arrow-up-rounded",width:"24"}),L(J);var q=re(J,2),F=U(q,!0);L(q);var O=re(q,2);O.__click=[Lu,i,o];var H=U(O);wt(H,{height:"24",icon:"material-symbols:keyboard-arrow-down-rounded",width:"24"}),L(O),L(N),L(_);var Q=re(_,2),R=U(Q);R.__click=[Bu,i,o];let ue;var he=re(R,2);he.__click=[Hu,i,o];let ce;L(Q),L(h),We((Ce,Ke)=>{Ee(C,I(s)),Ee(F,I(c)),ue=Lt(R,1,"svelte-1bevvpj",null,ue,Ce),ce=Lt(he,1,"svelte-1bevvpj",null,ce,Ke)},[()=>({selected:I(d)==="AM"}),()=>({selected:I(d)==="PM"})]),be(r,h),yt()}St(["click"]);function Vu(r,o){de(o,"calendar")}function Wu(r,o){de(o,"clock")}var Qu=Oe('<article class="svelte-8yzu2w"><header class="svelte-8yzu2w"><button type="button"><p class="svelte-8yzu2w"> </p> <p class="svelte-8yzu2w"> </p></button> <button type="button"><p class="svelte-8yzu2w"> </p></button></header> <!></article>');function Gu(r,o){gt(o,!0);let i=je(o,"value",23,()=>new Date),s=qe("calendar");function c(R){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric"}).format(R)}function d(R){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(R)}function h(R){R.setHours(i().getHours()),R.setMinutes(i().getMinutes()),R.setSeconds(i().getSeconds()),i(new Date(R.getTime())),o.onchange&&o.onchange(i())}function _(R){R.setFullYear(i().getFullYear()),R.getMonth(i().getMonth()),R.getDate(i().getDate()),i(new Date(R.getTime())),o.onchange&&o.onchange(i())}var D=Qu(),E=U(D),M=U(E);M.__click=[Vu,s];let j;var C=U(M),Y=U(C,!0);L(C);var B=re(C,2),N=U(B,!0);L(B),L(M);var J=re(M,2);J.__click=[Wu,s];let z;var q=U(J),F=U(q,!0);L(q),L(J),L(E);var O=re(E,2);{var H=R=>{qu(R,{onchange:h,get value(){return i()}})},Q=R=>{Yu(R,{onchange:_,get value(){return i()}})};pt(O,R=>{I(s)===null||I(s)==="calendar"?R(H):R(Q,!1)})}L(D),We((R,ue,he,ce)=>{j=Lt(M,1,"svelte-8yzu2w",null,j,R),Ee(Y,o.label),Ee(N,ue),z=Lt(J,1,"svelte-8yzu2w",null,z,he),Ee(F,ce)},[()=>({selected:I(s)==="calendar"}),()=>c(i()),()=>({selected:I(s)==="clock"}),()=>d(i())]),be(r,D),yt()}St(["click"]);function Ju(r,o,i,s){o(),i(null),s.oncancel&&s.oncancel()}function Xu(r,o,i){o.ondelete&&o.ondelete(i().id)}function Zu(r,o){const i=r.currentTarget.value.trim().length===0?null:r.currentTarget.value;o({...o(),notes:i})}function $u(r,o,i){o.onsave&&o.onsave(i())}var el=Oe('<dialog class="svelte-13glclx"><h3 class="svelte-13glclx"> </h3> <!> <textarea placeholder="Notes" class="svelte-13glclx"></textarea> <footer class="svelte-13glclx"><button class="delete svelte-13glclx" type="button">Delete</button> <button class="cancel svelte-13glclx" type="button">Cancel</button> <button type="button" class="svelte-13glclx">Save</button></footer></dialog>');function tl(r,o){gt(o,!0);let i=je(o,"field",3,"started"),s=je(o,"item",7,null),c=je(o,"label",3,"Started"),d=je(o,"title",3,"Edit Fast Start"),h=qe(void 0);function _(O){const H={...s()};H[i()]=new Date(O.getTime()),s({...H})}function D(){I(h).close()}function E(){I(h).showModal()}var M=el(),j=U(M),C=U(j,!0);L(j);var Y=re(j,2);const B=it(()=>s()&&s().id&&s().id!==null?s()[i()]:new Date);Gu(Y,{get label(){return c()},onchange:_,get value(){return I(B)}});var N=re(Y,2);Ga(N),N.__input=[Zu,s];var J=re(N,2),z=U(J);z.__click=[Xu,o,s];var q=re(z,2);q.__click=[Ju,D,s,o];var F=re(q,2);return F.__click=[$u,o,s],L(J),L(M),Ht(M,O=>de(h,O),()=>I(h)),We(()=>{Ee(C,d()),as(N,s()&&s().id&&s().id!==null?s().notes:"")}),be(r,M),yt({close:D,showModal:E})}St(["input","click"]);var nl=Oe('<article class="svelte-o2f930"><p class="svelte-o2f930">Your fasting history<br/>will be displayed here.</p></article>'),rl=Oe('<li class="header svelte-o2f930"><p class="svelte-o2f930"> </p></li>'),ol=(r,o,i)=>o(I(i).type,I(i).id),il=Oe('<p class="svelte-o2f930">Started Fast</p> <p class="svelte-o2f930"></p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p>',1),al=Oe('<p class="svelte-o2f930">Water</p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p>',1),sl=Oe('<p class="svelte-o2f930"> </p> <p class="svelte-o2f930"></p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p>',1),ul=Oe('<p class="svelte-o2f930">Ended Fast</p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p> <p class="svelte-o2f930"> </p>',1),ll=Oe('<li class="svelte-o2f930"><button type="button" class="svelte-o2f930"><!></button></li>'),cl=Oe('<ul class="svelte-o2f930"></ul>');function fl(r,o){gt(o,!0);let i=je(o,"items",19,()=>[]);function s(C){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",year:"numeric"}).format(C)}function c(C,Y){const B=Y.getTime()-C.getTime(),N=Math.floor(B/1e3),J=Math.floor(N/3600),z=Math.floor(N%3600/60);return new Intl.DurationFormat(navigator.language,{style:"short",units:["hour","minute"]}).format({hours:J,minutes:z})}function d(C){return new Intl.DateTimeFormat(navigator.language,{weekday:"long",month:"short",day:"numeric"}).format(C)}function h(C){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(C)}function _(C,Y){o.onchange&&o.onchange(C,Y)}var D=On(),E=kt(D);{var M=C=>{var Y=nl();be(C,Y)},j=C=>{var Y=cl();Zt(Y,21,i,Xt,(B,N)=>{var J=On(),z=kt(J);{var q=O=>{var H=rl(),Q=U(H),R=U(Q,!0);L(Q),L(H),We(ue=>Ee(R,ue),[()=>d(I(N).timed)]),be(O,H)},F=O=>{var H=ll(),Q=U(H);Q.__click=[ol,_,N];var R=U(Q);{var ue=ce=>{var Ce=il(),Ke=re(kt(Ce),4),Le=U(Ke,!0);L(Ke);var Re=re(Ke,2),Ge=U(Re,!0);L(Re),We((Ye,we)=>{Ee(Le,Ye),Ee(Ge,we)},[()=>s(I(N).timed),()=>h(I(N).timed)]),be(ce,Ce)},he=(ce,Ce)=>{{var Ke=Re=>{var Ge=al(),Ye=re(kt(Ge),2),we=U(Ye);L(Ye);var ve=re(Ye,2),ze=U(ve,!0);L(ve);var Pe=re(ve,2),$=U(Pe,!0);L(Pe),We((se,le)=>{Ee(we,`${I(N).volume??""} oz`),Ee(ze,se),Ee($,le)},[()=>s(I(N).timed),()=>h(I(N).timed)]),be(Re,Ge)},Le=(Re,Ge)=>{{var Ye=ve=>{var ze=sl(),Pe=kt(ze),$=U(Pe,!0);L(Pe);var se=re(Pe,4),le=U(se,!0);L(se);var Ae=re(se,2),me=U(Ae,!0);L(Ae),We((Te,Se)=>{Ee($,I(N).level),Ee(le,Te),Ee(me,Se)},[()=>s(I(N).timed),()=>h(I(N).timed)]),be(ve,ze)},we=(ve,ze)=>{{var Pe=$=>{var se=ul(),le=re(kt(se),2),Ae=U(le,!0);L(le);var me=re(le,2),Te=U(me,!0);L(me);var Se=re(me,2),Ne=U(Se,!0);L(Se),We((te,tt,Je)=>{Ee(Ae,te),Ee(Te,tt),Ee(Ne,Je)},[()=>c(I(N).started,I(N).ended),()=>s(I(N).timed),()=>h(I(N).timed)]),be($,se)};pt(ve,$=>{I(N).type==="end"&&$(Pe)},ze)}};pt(Re,ve=>{I(N).type==="hunger"?ve(Ye):ve(we,!1)},Ge)}};pt(ce,Re=>{I(N).type==="water"?Re(Ke):Re(Le,!1)},Ce)}};pt(R,ce=>{I(N).type==="start"?ce(ue):ce(he,!1)})}L(Q),L(H),be(O,H)};pt(z,O=>{I(N).type==="header"?O(q):O(F,!1)})}be(B,J)}),L(Y),be(C,Y)};pt(E,C=>{i().length===0?C(M):C(j,!1)})}be(r,D),yt()}St(["click"]);var dl=Oe('<section class="svelte-jsa4zq"><header class="svelte-jsa4zq"><h3 class="svelte-jsa4zq">Hours</h3></header> <article class="svelte-jsa4zq"><!></article> <article class="svelte-jsa4zq"><!></article></section>');function hl(r,o){gt(o,!0);let i=je(o,"activity",3,null),s=je(o,"history",19,()=>[]);je(o,"levels",19,()=>[]);var c=dl(),d=re(U(c),2),h=U(d);const _=it(()=>i()===null?[]:i().average),D=it(()=>i()===null?null:i().daily);Li(h,{get average(){return I(_)},get daily(){return I(D)},days:7}),L(d);var E=re(d,2),M=U(E);fl(M,{get items(){return s()},get onchange(){return o.onchange}}),L(E),L(c),be(r,c),yt()}function vl(r,o,i,s){o(),i(null),s.oncancel&&s.oncancel()}function pl(r,o,i){o.ondelete&&o.ondelete(i().id)}function gl(r,o,i){o()===null&&o({...o(),level:5}),i.onsave&&i.onsave(o())}var yl=(r,o,i)=>o(I(i).value),ml=Oe('<li class="svelte-1gyfgoj"><button type="button" class="svelte-1gyfgoj"><p class="svelte-1gyfgoj"> </p> <!></button></li>'),bl=Oe('<button class="delete svelte-1gyfgoj" type="button">Delete</button>'),_l=Oe('<dialog class="svelte-1gyfgoj"><h3 class="svelte-1gyfgoj"> </h3> <ul class="svelte-1gyfgoj"></ul> <footer class="svelte-1gyfgoj"><!> <button class="cancel svelte-1gyfgoj" type="button">Cancel</button> <button type="button" class="svelte-1gyfgoj">Save</button></footer></dialog>');function wl(r,o){gt(o,!0);let i=je(o,"item",7,null),s=je(o,"levels",19,()=>[]);je(o,"units",3,"oz");let c=qe(void 0),d=it(()=>i()&&i().level&&i().level!==null?i().level:5);function h(q){const F=q;i({...i(),level:F})}function _(){I(c).close()}function D(){I(c).showModal()}var E=_l(),M=U(E),j=U(M);L(M);var C=re(M,2);Zt(C,21,s,Xt,(q,F)=>{var O=ml();const H=it(()=>I(F).value===I(d)?"material-symbols:radio-button-checked-outline":"material-symbols:circle-outline");var Q=U(O);Q.__click=[yl,h,F];var R=U(Q),ue=U(R,!0);L(R);var he=re(R,2);const ce=it(()=>I(F).value===I(d)?"#0284c7":"#161616");wt(he,{get color(){return I(ce)},height:"20",get icon(){return I(H)},width:"20"}),L(Q),L(O),We(()=>Ee(ue,I(F).label)),be(q,O)}),L(C);var Y=re(C,2),B=U(Y);{var N=q=>{var F=bl();F.__click=[pl,o,i],be(q,F)};pt(B,q=>{i()&&i().id&&i().id!==null&&q(N)})}var J=re(B,2);J.__click=[vl,_,i,o];var z=re(J,2);return z.__click=[gl,i,o],L(Y),L(E),Ht(E,q=>de(c,q),()=>I(c)),We(()=>Ee(j,`${i()&&i().id&&i().id!==null?"Edit":"Add"} Hunger`)),be(r,E),yt({close:_,showModal:D})}St(["click"]);function xl(r,o,i){o()!==0&&(o(0),i.onchange&&i.onchange(o()))}function kl(r,o,i){o()!==1&&(o(1),i.onchange&&i.onchange(o()))}var Sl=Oe('<ul class="svelte-tu3q0a"><li><button type="button">Fasting</button></li> <li><button type="button">Hours</button></li></ul>');function Dl(r,o){gt(o,!0);let i=je(o,"selected",7,0);var s=Sl(),c=U(s),d=U(c);let h;d.__click=[xl,i,o],L(c);var _=re(c,2),D=U(_);let E;D.__click=[kl,i,o],L(_),L(s),We((M,j)=>{h=Lt(d,1,"fasting svelte-tu3q0a",null,h,M),E=Lt(D,1,"hours svelte-tu3q0a",null,E,j)},[()=>({selected:i()===0}),()=>({selected:i()===1})]),be(r,s),yt()}St(["click"]);function Tl(r,o){o()}var El=Oe('<dialog class="svelte-msa23r"><h3 class="svelte-msa23r">Settings</h3> <article class="svelte-msa23r"><p class="svelte-msa23r">Settings.</p></article> <footer class="svelte-msa23r"><button type="button" class="svelte-msa23r">Done</button></footer></dialog>');function Ol(r,o){gt(o,!0);let i=qe(void 0);function s(){I(i).close()}function c(){I(i).showModal()}var d=El(),h=re(U(d),4),_=U(h);return _.__click=[Tl,s],L(h),L(d),Ht(d,D=>de(i,D),()=>I(i)),be(r,d),yt({close:s,showModal:c})}St(["click"]);function Cl(r,o,i,s){o(),i(null),s.oncancel&&s.oncancel()}function Pl(r,o,i){o.ondelete&&o.ondelete(i().id)}function Al(r,o,i){o()===null&&o({...o(),volume:8}),i.onsave&&i.onsave(o())}var Il=(r,o,i)=>o(I(i).value),Ml=Oe('<li class="svelte-1sbih0z"><button type="button" class="svelte-1sbih0z"><p class="svelte-1sbih0z"> </p> <p class="svelte-1sbih0z"> </p> <!></button></li>'),jl=Oe('<button class="delete svelte-1sbih0z" type="button">Delete</button>'),Kl=Oe('<dialog class="svelte-1sbih0z"><h3 class="svelte-1sbih0z"> </h3> <ul class="svelte-1sbih0z"></ul> <footer class="svelte-1sbih0z"><!> <button class="cancel svelte-1sbih0z" type="button">Cancel</button> <button type="button" class="svelte-1sbih0z">Save</button></footer></dialog>');function Fl(r,o){gt(o,!0);let i=je(o,"item",7,null),s=je(o,"units",3,"oz"),c=qe(void 0),d=tr([{value:8,label:"Cup"},{value:12,label:"Can"},{value:16,label:"Bottle"},{value:20,label:"Medium"},{value:30,label:"Gatorade"},{value:32,label:"Big Q"},{value:44,label:"QT Large"},{value:52,label:"Extra Large"}]),h=it(()=>i()&&i().volume&&i().volume!==null?i().volume:8);function _(F){const O=F;i({...i(),volume:O})}function D(){I(c).close()}function E(){I(c).showModal()}var M=Kl(),j=U(M),C=U(j);L(j);var Y=re(j,2);Zt(Y,21,()=>d,Xt,(F,O)=>{var H=Ml();const Q=it(()=>I(O).value===I(h)?"material-symbols:radio-button-checked-outline":"material-symbols:circle-outline");var R=U(H);R.__click=[Il,_,O];var ue=U(R),he=U(ue,!0);L(ue);var ce=re(ue,2),Ce=U(ce);L(ce);var Ke=re(ce,2);const Le=it(()=>I(O).value===I(h)?"#0284c7":"#161616");wt(Ke,{get color(){return I(Le)},height:"20",get icon(){return I(Q)},width:"20"}),L(R),L(H),We(()=>{Ee(he,I(O).label),Ee(Ce,`${I(O).value??""} ${s()??""}`)}),be(F,H)}),L(Y);var B=re(Y,2),N=U(B);{var J=F=>{var O=jl();O.__click=[Pl,o,i],be(F,O)};pt(N,F=>{i()&&i().id&&i().id!==null&&F(J)})}var z=re(N,2);z.__click=[Cl,D,i,o];var q=re(z,2);return q.__click=[Al,i,o],L(B),L(M),Ht(M,F=>de(c,F),()=>I(c)),We(()=>Ee(C,`${i()&&i().id&&i().id!==null?"Edit":"Add"} Water`)),be(r,M),yt({close:D,showModal:E})}St(["click"]);var ql=Oe('<main class="svelte-1p6a8xw"><header class="svelte-1p6a8xw"><span></span> <!> <button type="button" class="svelte-1p6a8xw"><!></button></header> <section class="svelte-1p6a8xw"><article class="svelte-1p6a8xw"><!></article> <article class="svelte-1p6a8xw"><!></article></section></main> <!> <!> <!> <!>',1);function Zl(r,o){gt(o,!0);const i=new hs;let s=0,c=qe(tr([])),d=qe(tr([])),h=qe(void 0),_=qe("started"),D=qe(null),E=qe("Started"),M=qe("Edit Fast Started"),j=qe(void 0),C=qe(null),Y=qe(5),B=tr([{value:1,label:"Starving"},{value:2,label:"Very hungry"},{value:3,label:"Pretty hungry"},{value:4,label:"Snacky"},{value:5,label:"Satisfied"},{value:6,label:"Slightly full"},{value:7,label:"Uncomfortable"},{value:8,label:"Stuffed"},{value:9,label:"Stomach aches"},{value:10,label:"Sick"}]),N=qe(null),J=qe(0),z=qe(void 0),q=qe(null),F=qe(0),O=qe(void 0),H=qe(null);ao(()=>{let ae=window.localStorage.getItem("fh_screen");de(J,ae===null?0:parseInt(ae),!0),setInterval(()=>{s===60?(R(),s=0):s=s+1,I(q)!==null&&de(N,Date.now(),!0)},1e3),ce(),R(),he(),Ce(),ue()});function Q(ae){const fe=ae.getFullYear(),_e=String(ae.getMonth()+1).padStart(2,"0"),nt=String(ae.getDate()).padStart(2,"0");return`${fe}-${_e}-${nt}`}function R(ae=7){i.browseHistory().then(fe=>{const _e={},nt=new Date,Be=new Date(nt.getFullYear(),nt.getMonth(),nt.getDate()),Fe=new Date(Be);if(Fe.setDate(Be.getDate()-(ae-1)),!Array.isArray(fe)||fe.length===0){const Qe=new Date(Fe);for(;Qe<=Be;){const $e=Q(Qe);_e[$e]=Array(24).fill(0),Qe.setDate(Qe.getDate()+1)}}else{for(const $e of fe){const Tt=new Date($e.started),en=$e.ended?new Date($e.ended):new Date,tn=new Date(Tt.getTime());tn.setSeconds(0,0);const Et=new Date(en.getTime());Et.setSeconds(0,0);let oe=new Date(tn);for(;oe<Et;){const At=Q(oe),Ot=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate());if(Ot>=Fe&&Ot<=Be){const nn=oe.getHours();_e[At]||(_e[At]=Array(24).fill(0)),_e[At][nn]+=1}oe.setMinutes(oe.getMinutes()+1)}}for(const $e in _e)_e[$e]=_e[$e].map(Tt=>+(Math.min(Tt,60)/60).toFixed(6));const Qe=new Date(Fe);for(;Qe<=Be;){const $e=Q(Qe);_e[$e]||(_e[$e]=Array(24).fill(0)),Qe.setDate(Qe.getDate()+1)}}const Me=Object.keys(_e).sort((Qe,$e)=>$e.localeCompare(Qe)),He={};for(const Qe of Me)He[Qe]=_e[Qe];const $t=Array(24).fill(0);for(const Qe of Array(24).keys())for(const $e of Me)$t[Qe]+=He[$e][Qe];const zt=$t.map(Qe=>+(Qe/10).toFixed(6));de(c,{daily:He,average:zt},!0)})}function ue(){i.browseHistory().then(ae=>{let fe=null,_e=structuredClone(ae);_e.forEach(Be=>{Be.type="start",Be.timed=new Date(Be.started.getTime())});let nt=structuredClone(ae);nt=nt.filter(Be=>Be.ended!==null),nt.forEach(Be=>{Be.type="end",Be.timed=new Date(Be.ended.getTime())}),_e=_e.concat(nt),fe=[..._e],i.browseHunger().then(Be=>(Be=Be.map(Fe=>{const Me=B.find(He=>He.value===Fe.level);return Fe.level=Me.label,Fe.timed=new Date(Fe.created.getTime()),Fe}),fe=fe.concat(Be),i.browseWater())).then(Be=>{Be=Be.map(Me=>(Me.timed=new Date(Me.created.getTime()),Me)),fe=fe.concat(Be),fe.sort((Me,He)=>Me.timed.getTime()<He.timed.getTime()?1:Me.timed.getTime()>He.timed.getTime()?-1:0);const Fe=[];for(let Me=0;Me<fe.length;Me++){const He=new Date(fe[Me].timed.getTime());He.setHours(23),He.setMinutes(59),He.setSeconds(59),He.setMilliseconds(999),Fe.length===0?Fe.push({type:"header",timed:He}):(Fe[Fe.length-1].timed.getDate()!==fe[Me].timed.getDate()||Fe[Fe.length-1].timed.getMonth()!==fe[Me].timed.getMonth()||Fe[Fe.length-1].timed.getFullYear()!==fe[Me].timed.getFullYear())&&Fe.push({type:"header",timed:He})}fe=fe.concat(Fe),fe.sort((Me,He)=>Me.timed.getTime()<He.timed.getTime()?1:Me.timed.getTime()>He.timed.getTime()?-1:0),de(d,[...fe],!0)})})}function he(){i.browseHunger(!0).then(ae=>{ae===null?de(Y,5):de(Y,ae.level,!0)})}function ce(){i.browseHistory().then(ae=>{ae.length===0&&(de(q,null),de(N,null)),ae.sort((fe,_e)=>fe.started.getTime()>_e.started.getTime()?-1:fe.started.getTime()<_e.started.getTime()?1:0),ae[0].ended===null&&(de(q,new Date(ae[0].started.getTime()),!0),de(N,Date.now(),!0))})}function Ce(){i.browseWater(!0).then(ae=>{const fe=ae.reduce((_e,nt)=>_e+nt.volume,0);de(F,fe,!0)})}function Ke(){de(q,null),de(N,null),i.browseHistoryByEnd().then(ae=>(ae.ended=new Date,i.editHistory(ae))).then(()=>{ce(),R(),ue()})}function Le(){I(j).showModal()}function Re(){i.addHistory().then(()=>{ce(),R(),ue()})}function Ge(){I(O).showModal()}function Ye(ae){I(D).started.getTime()===I(q).getTime()&&(de(q,null),de(N,null)),i.deleteHistory(ae).then(()=>{I(h).close(),de(D,null),ce(),R(),ue()})}function we(ae){i.editHistory(ae).then(()=>{I(h).close(),de(D,null),ce(),R(),ue()})}function ve(ae,fe){ae==="start"?(de(_,"started"),de(E,"Started"),de(M,"Edit Fast Started"),i.readHistory(fe).then(_e=>{de(D,{..._e},!0),I(h).showModal()})):ae==="end"?(de(_,"ended"),de(E,"Ended"),de(M,"Edit Fast Ended"),i.readHistory(fe).then(_e=>{de(D,{..._e},!0),I(h).showModal()})):ae==="water"?i.readWater(fe).then(_e=>{de(H,{..._e},!0),I(O).showModal()}):ae==="hunger"&&i.readHunger(fe).then(_e=>{de(C,{..._e},!0),I(j).showModal()})}function ze(ae){i.deleteHunger(ae).then(()=>{I(j).close(),de(C,null),he(),ue()})}function Pe(ae){I(C)===null?i.addHunger(ae.level).then(fe=>{I(j).close(),he(),ue()}):i.editHunger(ae).then(fe=>{I(j).close(),de(C,null),he(),ue()})}function $(ae){I(J)!==ae&&(window.localStorage.setItem("fh_screen",ae),de(J,ae,!0))}function se(){I(z).showModal()}function le(ae){i.deleteWater(ae).then(()=>{I(O).close(),de(H,null),Ce(),ue()})}function Ae(ae){I(H)===null?i.addWater(ae.volume).then(fe=>{I(O).close(),Ce(),ue()}):i.editWater(ae).then(fe=>{I(O).close(),de(H,null),Ce(),ue()})}var me=ql(),Te=kt(me),Se=U(Te),Ne=re(U(Se),2);Dl(Ne,{onchange:$,get selected(){return I(J)}});var te=re(Ne,2);te.__click=se;var tt=U(te);wt(tt,{height:"20",icon:"material-symbols:settings-outline",width:"20"}),L(te),L(Se);var Je=re(Se,2),ge=U(Je),ft=U(ge);Mu(ft,{get activity(){return I(c)},get hunger(){return I(Y)},get levels(){return B},get now(){return I(N)},onend:Ke,onhunger:Le,onsettings:se,onstart:Re,onwater:Ge,get started(){return I(q)},get water(){return I(F)}}),L(ge);var dt=re(ge,2),et=U(dt);hl(et,{get activity(){return I(c)},get history(){return I(d)},get levels(){return B},onchange:ve}),L(dt),L(Je),L(Te);var Dt=re(Te,2);Ht(tl(Dt,{get field(){return I(_)},get item(){return I(D)},get label(){return I(E)},ondelete:Ye,onsave:we,get title(){return I(M)}}),ae=>de(h,ae,!0),()=>I(h));var ht=re(Dt,2);Ht(wl(ht,{get item(){return I(C)},get levels(){return B},ondelete:ze,onsave:Pe}),ae=>de(j,ae,!0),()=>I(j));var at=re(ht,2);Ht(Fl(at,{get item(){return I(H)},ondelete:le,onsave:Ae}),ae=>de(O,ae,!0),()=>I(O));var mt=re(at,2);Ht(Ol(mt,{}),ae=>de(z,ae,!0),()=>I(z)),We(()=>dn(Je,"data-screen",I(J)===0?"fasting":"hours")),be(r,me),yt()}St(["click"]);export{Zl as component};
